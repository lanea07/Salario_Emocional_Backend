"use strict";(self.webpackChunksalarioemocionalfrontend=self.webpackChunksalarioemocionalfrontend||[]).push([[329],{9329:(T,c,r)=>{r.r(c),r.d(c,{AuthModule:()=>_});var l=r(4755),t=r(9401),i=r(5118),e=r(2223);let p=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["auth-main"]],decls:1,vars:0,template:function(a,s){1&a&&e._UZ(0,"router-outlet")},dependencies:[i.lC],encapsulation:2}),o})();var f=r(1741),g=r(5226),d=r.n(g),h=r(7270),C=r(6518);function v(o,n){1&o&&(e.TgZ(0,"small",20),e._uU(1,"Obligatorio"),e.qZA())}function w(o,n){if(1&o&&(e.TgZ(0,"small",20),e._uU(1),e.qZA()),2&o){const a=e.oxw(2);e.xp6(1),e.Oqu(a.passErrorMsg)}}function x(o,n){1&o&&(e.TgZ(0,"small",20),e._uU(1),e.qZA()),2&o&&(e.xp6(1),e.Oqu("Las contrase\xf1a no coinciden"))}const m=function(o){return{invalid:o}};function Z(o,n){if(1&o){const a=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(a);const u=e.oxw();return e.KtG(u.submitPassChange())}),e.TgZ(1,"section",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"h2",9),e._uU(9,"Cambio de contrase\xf1a requerido"),e.qZA(),e.TgZ(10,"div",10),e._UZ(11,"input",11),e.TgZ(12,"label",12),e._uU(13,"Contrase\xf1a Actual"),e.qZA(),e.YNc(14,v,2,0,"small",13),e.qZA(),e.TgZ(15,"div",10),e._UZ(16,"input",14),e.TgZ(17,"label",15),e._uU(18,"Nueva Contrase\xf1a"),e.qZA(),e.YNc(19,w,2,1,"small",13),e.qZA(),e.TgZ(20,"div",10),e._UZ(21,"input",16),e.TgZ(22,"label",17),e._uU(23,"Repita la contrase\xf1a"),e.qZA(),e.YNc(24,x,2,1,"small",13),e.qZA(),e._UZ(25,"input",18),e.TgZ(26,"button",19),e._uU(27,"Login"),e.qZA()()()()()()()()()}if(2&o){const a=e.oxw();e.Q6J("formGroup",a.miFormulario),e.xp6(11),e.Q6J("ngClass",e.VKq(8,m,a.campoEsValido("currentPassword"))),e.xp6(3),e.Q6J("ngIf",a.campoEsValido("currentPassword")),e.xp6(2),e.Q6J("ngClass",e.VKq(10,m,a.campoEsValido("password"))),e.xp6(3),e.Q6J("ngIf",a.campoEsValido("password")),e.xp6(2),e.Q6J("ngClass",e.VKq(12,m,a.campoEsValido("retypePassword"))),e.xp6(3),e.Q6J("ngIf",a.campoEsValido("retypePassword")),e.xp6(2),e.Q6J("disabled",!a.miFormulario.valid)}}const y=[{path:"",component:p,children:[{path:"login",component:f.G},{path:"password-change",component:(()=>{class o{get passErrorMsg(){const a=this.miFormulario.get("password")?.errors;return a.required?"Obligatorio":a.minlength?"La contrase\xf1a no cumple con el largo m\xednimo de 6 caracteres":""}constructor(a,s,u,A){this.fb=a,this.validatorService=s,this.authService=u,this.router=A,this.miFormulario=this.fb.group({currentPassword:[,[t.kI.required]],password:[,[t.kI.required,t.kI.minLength(6)]],retypePassword:[,[t.kI.required,t.kI.minLength(6)]],device_name:["PC"]},{validators:this.validatorService.camposIguales("password","retypePassword")}),this.showScreen=!1,this.authService.validarRequirePassChange().subscribe({next:F=>F?this.showScreen=!0:this.router.navigate(["benefit-employee"])})}campoEsValido(a){return this.miFormulario.get(a)?.invalid&&this.miFormulario.get(a)?.touched}submitPassChange(){this.authService.passwordChange(this.miFormulario.value).subscribe({next:a=>{d().fire({title:"Actualizado",icon:"success",text:"Contrase\xf1a actualizada",showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),this.router.navigate(["benefit-employee"])},error:a=>{d().fire({title:"Error",icon:"error",text:JSON.stringify(a.error.message),showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOutUp"}})}})}}return o.\u0275fac=function(a){return new(a||o)(e.Y36(t.qu),e.Y36(h.o),e.Y36(C.e),e.Y36(i.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-pass-change"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card",2,"border-radius","1rem"],[1,"card-body","p-5","text-center"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"mb-2"],[1,"form-floating","mb-3"],["type","password","id","currentPassword","formControlName","currentPassword","placeholder","Nueva Contrase\xf1a",1,"form-control",3,"ngClass"],["for","currentPassword",1,"form-label"],["class","text-danger",4,"ngIf"],["type","password","id","password","formControlName","password","placeholder","Nueva Contrase\xf1a",1,"form-control",3,"ngClass"],["for","password",1,"form-label"],["type","password","id","retypePassword","formControlName","retypePassword","placeholder","Repita la contrase\xf1a",1,"form-control",3,"ngClass"],["for","retypePassword",1,"form-label"],["type","hidden","id","device_name","formControlName","device_name"],[1,"btn","btn-secondary",3,"disabled"],[1,"text-danger"]],template:function(a,s){1&a&&e.YNc(0,Z,28,14,"form",0),2&a&&e.Q6J("ngIf",s.showScreen)},dependencies:[l.mk,l.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u],encapsulation:2}),o})()},{path:"**",redirectTo:"login"}]}];let P=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[i.Bz.forChild(y),i.Bz]}),o})(),_=(()=>{class o{}return o.\u0275fac=function(a){return new(a||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[P,l.ez,t.UX]}),o})()}}]);