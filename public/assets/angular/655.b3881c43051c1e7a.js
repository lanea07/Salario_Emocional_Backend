"use strict";(self.webpackChunksalarioemocionalfrontend=self.webpackChunksalarioemocionalfrontend||[]).push([[655],{1655:(S,d,r)=>{r.r(d),r.d(d,{AuthModule:()=>P});var c=r(6814),a=r(6223),l=r(3912),p=r(3669),t=r(6689);let f=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["auth-main"]],decls:1,vars:0,template:function(s,n){1&s&&t._UZ(0,"router-outlet")},dependencies:[l.lC],encapsulation:2})}return e})();var i=r(591),h=r(4567),g=r(7645);function v(e,u){1&e&&(t.TgZ(0,"small",20),t._uU(1,"Obligatorio"),t.qZA())}function C(e,u){if(1&e&&(t.TgZ(0,"small",20),t._uU(1),t.qZA()),2&e){const o=t.oxw(2);t.xp6(1),t.Oqu(o.passErrorMsg)}}function b(e,u){1&e&&(t.TgZ(0,"small",20),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu("Las contrase\xf1a no coinciden"))}const m=function(e){return{invalid:e}};function w(e,u){if(1&e){const o=t.EpF();t.TgZ(0,"form",1),t.NdJ("ngSubmit",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.submitPassChange())}),t.TgZ(1,"section",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"h2",9),t._uU(9,"Cambio de contrase\xf1a requerido"),t.qZA(),t.TgZ(10,"div",10),t._UZ(11,"input",11),t.TgZ(12,"label",12),t._uU(13,"Contrase\xf1a Actual"),t.qZA(),t.YNc(14,v,2,0,"small",13),t.qZA(),t.TgZ(15,"div",10),t._UZ(16,"input",14),t.TgZ(17,"label",15),t._uU(18,"Nueva Contrase\xf1a"),t.qZA(),t.YNc(19,C,2,1,"small",13),t.qZA(),t.TgZ(20,"div",10),t._UZ(21,"input",16),t.TgZ(22,"label",17),t._uU(23,"Repita la contrase\xf1a"),t.qZA(),t.YNc(24,b,2,1,"small",13),t.qZA(),t._UZ(25,"input",18),t.TgZ(26,"button",19),t._uU(27,"Login"),t.qZA()()()()()()()()()}if(2&e){const o=t.oxw();t.Q6J("formGroup",o.miFormulario),t.xp6(11),t.Q6J("ngClass",t.VKq(8,m,o.campoEsValido("currentPassword"))),t.xp6(3),t.Q6J("ngIf",o.campoEsValido("currentPassword")),t.xp6(2),t.Q6J("ngClass",t.VKq(10,m,o.campoEsValido("password"))),t.xp6(3),t.Q6J("ngIf",o.campoEsValido("password")),t.xp6(2),t.Q6J("ngClass",t.VKq(12,m,o.campoEsValido("retypePassword"))),t.xp6(3),t.Q6J("ngIf",o.campoEsValido("retypePassword")),t.xp6(2),t.Q6J("disabled",!o.miFormulario.valid)}}const x=[{path:"",component:f,children:[{path:"login",component:p.G,title:"Login"},{path:"password-change",component:(()=>{class e{get passErrorMsg(){const o=this.miFormulario.get("password")?.errors;return o.required?"Obligatorio":o.minlength?"La contrase\xf1a no cumple con el largo m\xednimo de 6 caracteres":""}constructor(o,s,n,F,A){this.as=o,this.authService=s,this.fb=n,this.router=F,this.validatorService=A,this.miFormulario=this.fb.group({currentPassword:[,[a.kI.required]],password:[,[a.kI.required,a.kI.minLength(6)]],retypePassword:[,[a.kI.required,a.kI.minLength(6)]],device_name:["PC"]},{validators:this.validatorService.camposIguales("password","retypePassword")}),this.showScreen=!1,this.authService.validarRequirePassChange().subscribe({next:T=>T?this.showScreen=!0:this.router.navigate(["benefit-employee"])})}campoEsValido(o){return this.miFormulario.get(o)?.invalid&&this.miFormulario.get(o)?.touched}submitPassChange(){this.authService.passwordChange(this.miFormulario.value).subscribe({next:()=>{this.router.navigate(["benefit-employee"]),this.as.subscriptionAlert(i.fI.PASSCHANGED,i.gW.SUCCESS)},error:o=>{this.as.subscriptionAlert(i.fI.ERROR,i.gW.ERROR,o.error.message)}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(i.c9),t.Y36(h.e),t.Y36(a.qu),t.Y36(l.F0),t.Y36(g.o))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-pass-change"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card",2,"border-radius","1rem"],[1,"card-body","p-5","text-center"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"mb-2"],[1,"form-floating","mb-3"],["type","password","id","currentPassword","formControlName","currentPassword","placeholder","Nueva Contrase\xf1a",1,"form-control",3,"ngClass"],["for","currentPassword",1,"form-label"],["class","text-danger",4,"ngIf"],["type","password","id","password","formControlName","password","placeholder","Nueva Contrase\xf1a",1,"form-control",3,"ngClass"],["for","password",1,"form-label"],["type","password","id","retypePassword","formControlName","retypePassword","placeholder","Repita la contrase\xf1a",1,"form-control",3,"ngClass"],["for","retypePassword",1,"form-label"],["type","hidden","id","device_name","formControlName","device_name"],[1,"btn","btn-secondary",3,"disabled"],[1,"text-danger"]],template:function(s,n){1&s&&t.YNc(0,w,28,14,"form",0),2&s&&t.Q6J("ngIf",n.showScreen)},dependencies:[c.mk,c.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2})}return e})(),title:"Cambiar Contrase\xf1a"},{path:"**",redirectTo:"login"}]}];let y=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(x),l.Bz]})}return e})(),P=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[y,c.ez,a.UX]})}return e})()}}]);