"use strict";(self.webpackChunksalarioemocionalfrontend=self.webpackChunksalarioemocionalfrontend||[]).push([[329],{9329:(A,d,r)=>{r.r(d),r.d(d,{AuthModule:()=>x});var c=r(4755),a=r(9401),l=r(5118),e=r(2223);let i=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["auth-main"]],decls:1,vars:0,template:function(t,m){1&t&&e._UZ(0,"router-outlet")},dependencies:[l.lC],encapsulation:2}),o})();var p=r(1741),n=r(206),f=r(6518),u=r(6550),g=r(7270);function h(o,s){1&o&&(e.TgZ(0,"small",20),e._uU(1,"Obligatorio"),e.qZA())}function P(o,s){if(1&o&&(e.TgZ(0,"small",20),e._uU(1),e.qZA()),2&o){const t=e.oxw(2);e.xp6(1),e.Oqu(t.passErrorMsg)}}function b(o,s){1&o&&(e.TgZ(0,"small",20),e._uU(1),e.qZA()),2&o&&(e.xp6(1),e.Oqu("Las contrase\xf1a no coinciden"))}const C=function(o){return{invalid:o}};function w(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(t);const v=e.oxw();return e.KtG(v.submitPassChange())}),e.TgZ(1,"section",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"div",6)(6,"div",7)(7,"div",8)(8,"h2",9),e._uU(9,"Cambio de contrase\xf1a requerido"),e.qZA(),e.TgZ(10,"div",10),e._UZ(11,"input",11),e.TgZ(12,"label",12),e._uU(13,"Contrase\xf1a Actual"),e.qZA(),e.YNc(14,h,2,0,"small",13),e.qZA(),e.TgZ(15,"div",10),e._UZ(16,"input",14),e.TgZ(17,"label",15),e._uU(18,"Nueva Contrase\xf1a"),e.qZA(),e.YNc(19,P,2,1,"small",13),e.qZA(),e.TgZ(20,"div",10),e._UZ(21,"input",16),e.TgZ(22,"label",17),e._uU(23,"Repita la contrase\xf1a"),e.qZA(),e.YNc(24,b,2,1,"small",13),e.qZA(),e._UZ(25,"input",18),e.TgZ(26,"button",19),e._uU(27,"Login"),e.qZA()()()()()()()()()}if(2&o){const t=e.oxw();e.Q6J("formGroup",t.miFormulario),e.xp6(11),e.Q6J("ngClass",e.VKq(8,C,t.campoEsValido("currentPassword"))),e.xp6(3),e.Q6J("ngIf",t.campoEsValido("currentPassword")),e.xp6(2),e.Q6J("ngClass",e.VKq(10,C,t.campoEsValido("password"))),e.xp6(3),e.Q6J("ngIf",t.campoEsValido("password")),e.xp6(2),e.Q6J("ngClass",e.VKq(12,C,t.campoEsValido("retypePassword"))),e.xp6(3),e.Q6J("ngIf",t.campoEsValido("retypePassword")),e.xp6(2),e.Q6J("disabled",!t.miFormulario.valid)}}const S=[{path:"",component:i,children:[{path:"login",component:p.G},{path:"password-change",component:(()=>{class o{get passErrorMsg(){const t=this.miFormulario.get("password")?.errors;return t.required?"Obligatorio":t.minlength?"La contrase\xf1a no cumple con el largo m\xednimo de 6 caracteres":""}constructor(t,m,v,y,T,I){this.as=t,this.authService=m,this.fb=v,this.router=y,this.titleService=T,this.validatorService=I,this.miFormulario=this.fb.group({currentPassword:[,[a.kI.required]],password:[,[a.kI.required,a.kI.minLength(6)]],retypePassword:[,[a.kI.required,a.kI.minLength(6)]],device_name:["PC"]},{validators:this.validatorService.camposIguales("password","retypePassword")}),this.showScreen=!1,this.authService.validarRequirePassChange().subscribe({next:F=>F?this.showScreen=!0:this.router.navigate(["benefit-employee"])}),this.titleService.setTitle("Cambiar Contrase\xf1a")}campoEsValido(t){return this.miFormulario.get(t)?.invalid&&this.miFormulario.get(t)?.touched}submitPassChange(){this.authService.passwordChange(this.miFormulario.value).subscribe({next:()=>{this.router.navigate(["benefit-employee"]),this.as.subscriptionAlert(n.fI.PASSCHANGED,n.gW.SUCCESS)},error:t=>{this.as.subscriptionAlert(n.fI.ERROR,n.gW.ERROR,t.error.message)}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.c9),e.Y36(f.e),e.Y36(a.qu),e.Y36(l.F0),e.Y36(u.Dx),e.Y36(g.o))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-pass-change"]],decls:1,vars:1,consts:[["autocomplete","off",3,"formGroup","ngSubmit",4,"ngIf"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"vh-100","gradient-custom"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-8","col-lg-6","col-xl-5"],[1,"card",2,"border-radius","1rem"],[1,"card-body","p-5","text-center"],[1,"mb-md-5","mt-md-4","pb-5"],[1,"mb-2"],[1,"form-floating","mb-3"],["type","password","id","currentPassword","formControlName","currentPassword","placeholder","Nueva Contrase\xf1a",1,"form-control",3,"ngClass"],["for","currentPassword",1,"form-label"],["class","text-danger",4,"ngIf"],["type","password","id","password","formControlName","password","placeholder","Nueva Contrase\xf1a",1,"form-control",3,"ngClass"],["for","password",1,"form-label"],["type","password","id","retypePassword","formControlName","retypePassword","placeholder","Repita la contrase\xf1a",1,"form-control",3,"ngClass"],["for","retypePassword",1,"form-label"],["type","hidden","id","device_name","formControlName","device_name"],[1,"btn","btn-secondary",3,"disabled"],[1,"text-danger"]],template:function(t,m){1&t&&e.YNc(0,w,28,14,"form",0),2&t&&e.Q6J("ngIf",m.showScreen)},dependencies:[c.mk,c.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2}),o})()},{path:"**",redirectTo:"login"}]}];let Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(S),l.Bz]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Z,c.ez,a.UX]}),o})()},206:(A,d,r)=>{r.d(d,{c9:()=>p,fI:()=>e,gW:()=>i});var c=r(5226),a=r.n(c),l=r(2223),e=(()=>((e=e||{}).ACTUALIZADO="Actualizado",e.PASSCHANGED="Contrase\xf1a Cambiada",e.CREADO="Creado",e.ELIMINADO="Eliminado",e.ERROR="Error",e))(),i=(()=>((i=i||{}).ERROR="error",i.INFO="info",i.QUESTION="question",i.SUCCESS="success",i.WARNING="warning",i))();let p=(()=>{class n{constructor(){}subscriptionAlert(u,g,h){a().fire({title:u,text:h,icon:g})}}return n.\u0275fac=function(u){return new(u||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);