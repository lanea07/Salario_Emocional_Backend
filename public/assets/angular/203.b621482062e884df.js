"use strict";(self.webpackChunksalarioemocionalfrontend=self.webpackChunksalarioemocionalfrontend||[]).push([[203],{7203:(J,p,r)=>{r.r(p),r.d(p,{PositionModule:()=>w});var d=r(6814),a=r(6223),h=r(627),l=r(3912),v=r(1107),f=r(4664),n=r(591),t=r(6689),u=r(4642),R=r(1230);function C(i,Y){if(1&i&&(t.TgZ(0,"small",11),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.positionNameErrors)}}const A=function(i){return{invalid:i}};let g=(()=>{class i{get positionNameErrors(){const e=this.createForm.get("name")?.errors;return e.minlength?"El nombre no cumple con el largo m\xednimo de 5 caracteres":e.required?"El campo es obligatorio":""}constructor(e,s,o,c,m){this.activatedRoute=e,this.as=s,this.fb=o,this.positionService=c,this.router=m,this.createForm=this.fb.group({name:["",[a.kI.required,a.kI.minLength(5)]]}),this.disableSubmitBtn=!1}ngOnInit(){this.positionService.index().subscribe({error:e=>this.as.subscriptionAlert(n.fI.ERROR,n.gW.ERROR,e.message)}),this.router.url.includes("edit")&&this.activatedRoute.params.pipe((0,f.w)(({id:e})=>this.positionService.show(e))).subscribe({next:e=>{const s=e;this.position=s,this.createForm.get("name")?.setValue(s.name)},error:e=>{this.router.navigateByUrl("benefit-employee"),this.as.subscriptionAlert(n.fI.ERROR,n.gW.ERROR,e.message)}})}campoEsValido(e){return this.createForm.controls[e].errors&&this.createForm.controls[e].touched}save(){this.createForm.invalid?this.createForm.markAllAsTouched():(this.position?.id?this.positionService.update(this.position?.id,this.createForm.value).subscribe({next:()=>{this.router.navigateByUrl(`/position/show/${this.position?.id}`),this.as.subscriptionAlert(n.fI.ACTUALIZADO,n.gW.SUCCESS)},error:({error:e})=>{this.as.subscriptionAlert(n.fI.ERROR,n.gW.ERROR,e.message),this.disableSubmitBtn=!1}}):this.positionService.create(this.createForm.value).subscribe({next:({id:e})=>{this.router.navigateByUrl(`/position/show/${e}`),this.as.subscriptionAlert(n.fI.CREADO,n.gW.SUCCESS)},error:({error:e})=>{this.disableSubmitBtn=!1,this.as.subscriptionAlert(n.fI.ERROR,n.gW.ERROR,e.message)}}),this.disableSubmitBtn=!0)}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(l.gz),t.Y36(n.c9),t.Y36(a.qu),t.Y36(u.e),t.Y36(l.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["position-create"]],decls:14,vars:7,consts:[[1,"row"],[1,"col"],[1,"p-5",3,"formGroup","ngSubmit"],[1,"mb-3"],["header","Informaci\xf3n B\xe1sica"],[1,"mb-3","form-floating"],["type","text","formControlName","name","id","name","placeholder","Nombre Completo",1,"form-control",3,"ngClass"],["for","name",1,"form-label"],[1,"fa-solid","fa-briefcase","me-1"],["class","text-danger",4,"ngIf"],["type","submit",1,"btn","btn-success","float-end",3,"disabled"],[1,"text-danger"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return o.save()}),t.TgZ(3,"div",3)(4,"p-panel",4)(5,"div",5),t._UZ(6,"input",6),t.TgZ(7,"label",7),t._UZ(8,"i",8),t._uU(9,"Nombre del Cargo"),t.qZA(),t.YNc(10,C,2,1,"small",9),t.qZA()()(),t.TgZ(11,"div",3)(12,"button",10),t._uU(13),t.qZA()()()()()),2&s&&(t.xp6(2),t.Q6J("formGroup",o.createForm),t.xp6(4),t.Q6J("ngClass",t.VKq(5,A,o.campoEsValido("name"))),t.xp6(4),t.Q6J("ngIf",o.campoEsValido("name")),t.xp6(2),t.Q6J("disabled",o.disableSubmitBtn),t.xp6(1),t.hij(" ",null!=o.position&&o.position.id?"Actualizar":"Crear"," "))},dependencies:[d.mk,d.O5,R.s,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2})}return i})();var S=r(2369);let E=(()=>{class i{constructor(e,s,o,c){this.as=e,this.positionService=s,this.renderer=o,this.router=c,this.columns=[{title:"Nombre",data:"name"},{title:"Opciones",data:function(m,N,W){return`\n          <span style="cursor: pointer;" position_id="${m.id}" class="badge rounded-pill text-bg-warning">\n            Detalles\n            <i class="fa-solid fa-circle-info fa-fade" style="color: #000000;"></i>\n          </span>`}}]}ngOnInit(){this.dtOptions={ajax:(e,s)=>{this.positionService.index().subscribe({next:o=>{s({data:o})},error:o=>{this.router.navigateByUrl("benefit-employee"),this.as.subscriptionAlert(n.fI.ERROR,n.gW.ERROR,o.error.message)}})},columns:this.columns,responsive:!0,language:S}}ngAfterViewInit(){this.renderer.listen("document","click",e=>{e.target.hasAttribute("position_id")&&this.router.navigate(["/position/show/"+e.target.getAttribute("position_id")])})}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(n.c9),t.Y36(u.e),t.Y36(t.Qsj),t.Y36(l.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["position-index"]],decls:5,vars:1,consts:[[1,"row","mt-5"],[1,"col"],["datatable","",1,"table","table-hover","table-sm","table-striped",3,"dtOptions"],[1,"bg-dark","text-light"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"table",2),t._UZ(3,"thead",3)(4,"tbody"),t.qZA()()()),2&s&&(t.xp6(2),t.Q6J("dtOptions",o.dtOptions))},dependencies:[h.G],encapsulation:2})}return i})();var y=r(3519),O=r.n(y),x=r(3416);function I(i,Y){1&i&&(t.TgZ(0,"div"),t._UZ(1,"i",10),t.qZA())}const b=function(i){return{disabled:i}},T=[{path:"",component:v.t,children:[{path:"index",component:E,title:"P\xe1gina Principal"},{path:"create",component:g,title:"Crear Cargo"},{path:"edit/:id",component:g,title:"Editar Cargo"},{path:"show/:id",component:(()=>{class i{constructor(e,s,o,c){this.activatedRoute=e,this.as=s,this.positionService=o,this.router=c,this.loaded=!1}ngOnInit(){this.activatedRoute.params.pipe((0,f.w)(({id:e})=>this.positionService.show(e))).subscribe({next:e=>{this.position=e,this.loaded=!0},error:e=>{this.router.navigateByUrl("benefit-employee"),this.as.subscriptionAlert(n.fI.ERROR,n.gW.ERROR,e.message)}})}destroy(){O().fire({title:"Est\xe1 seguro?",text:"Al eliminar el usuario se eliminar\xe1 todo registro de la base de datos",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Eliminar!",showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}).then(e=>{e.isConfirmed&&this.positionService.destroy(this.position?.id).subscribe({next:()=>{this.router.navigateByUrl("/positions"),this.as.subscriptionAlert(n.fI.ELIMINADO,n.gW.SUCCESS)},error:({error:s})=>{this.as.subscriptionAlert(n.fI.ERROR,n.gW.ERROR,s.message)}})})}static#t=this.\u0275fac=function(s){return new(s||i)(t.Y36(l.gz),t.Y36(n.c9),t.Y36(u.e),t.Y36(l.F0))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["position-show"]],decls:17,vars:9,consts:[[1,"row"],[1,"col"],[1,"btn-group","float-end","mt-5","mb-5"],["backButton","",1,"btn","btn-outline-secondary"],["aria-current","page",1,"btn","btn-warning",3,"routerLink","ngClass"],[1,"btn","btn-outline-danger",3,"ngClass","click"],[1,"row","px-5"],[1,"col-12","d-flex","flex-column","my-2"],[4,"ngIf"],[1,"form-text"],[1,"fa-solid","fa-spinner","fa-spin","fa-xs"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t._uU(4,"Volver"),t.qZA(),t.TgZ(5,"a",4),t._uU(6,"Editar"),t.qZA(),t.TgZ(7,"a",5),t.NdJ("click",function(){return o.destroy()}),t._uU(8,"Eliminar"),t.qZA()()()(),t.TgZ(9,"div",0)(10,"div",1)(11,"div",6)(12,"div",7),t.YNc(13,I,2,0,"div",8),t._uU(14),t.TgZ(15,"span",9),t._uU(16,"Nombre"),t.qZA()()()()()),2&s&&(t.xp6(5),t.MGl("routerLink","/position/edit/",null==o.position?null:o.position.id,""),t.Q6J("ngClass",t.VKq(5,b,!o.loaded)),t.xp6(2),t.Q6J("ngClass",t.VKq(7,b,!o.loaded)),t.xp6(6),t.Q6J("ngIf",!o.loaded),t.xp6(1),t.hij(" ",null==o.position?null:o.position.name," "))},dependencies:[d.mk,d.O5,l.rH,x.z],encapsulation:2})}return i})(),title:"Ver Cargo"},{path:"**",redirectTo:"index"}]}];let U=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[l.Bz.forChild(T),l.Bz]})}return i})();var B=r(6208),F=r(3162);let w=(()=>{class i{static#t=this.\u0275fac=function(s){return new(s||i)};static#e=this.\u0275mod=t.oAB({type:i});static#i=this.\u0275inj=t.cJS({imports:[d.ez,h.T,U,F.W,a.UX,B.m]})}return i})()}}]);