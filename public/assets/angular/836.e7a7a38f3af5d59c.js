"use strict";(self.webpackChunksalarioemocionalfrontend=self.webpackChunksalarioemocionalfrontend||[]).push([[836],{836:(F,u,s)=>{s.r(u),s.d(u,{PositionModule:()=>U});var m=s(4755),l=s(5118),g=s(5226),r=s.n(g),e=s(2223),p=s(1407);function v(o,n){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"a",5),e._uU(5," Detalle "),e._UZ(6,"i",6),e.qZA()()()),2&o){const t=n.$implicit;e.xp6(2),e.Oqu(t.name),e.xp6(2),e.MGl("routerLink","/position/show/",t.id,"")}}let b=(()=>{class o{constructor(t,i){this.positionService=t,this.router=i,this.positions=[]}ngOnInit(){this.positionService.index().subscribe({next:t=>{this.positions=t},error:t=>{this.router.navigateByUrl("benefit-employee"),r().fire({title:"Error",icon:"error",html:t.error.msg,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",r().stopTimer),i.addEventListener("mouseleave",r().resumeTimer)}})}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.e),e.Y36(l.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["position-index"]],decls:11,vars:1,consts:[[1,"row","mt-5"],[1,"col"],[1,"table","table-hover","table-sm"],[1,"bg-dark","text-light"],[4,"ngFor","ngForOf"],[3,"routerLink"],[1,"fa-solid","fa-circle-info","fa-xs"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"table",2)(3,"thead",3)(4,"tr")(5,"th"),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"th"),e._uU(8,"Opciones"),e.qZA()()(),e.TgZ(9,"tbody"),e.YNc(10,v,7,2,"tr",4),e.qZA()()()()),2&t&&(e.xp6(10),e.Q6J("ngForOf",i.positions))},dependencies:[m.sg,l.rH],encapsulation:2}),o})();var c=s(3900);function C(o,n){1&o&&(e.TgZ(0,"div"),e._UZ(1,"i",9),e.qZA())}const h=function(o){return{disabled:o}};let T=(()=>{class o{constructor(t,i,d){this.positionService=t,this.router=i,this.activatedRoute=d,this.loaded=!1}ngOnInit(){this.activatedRoute.params.pipe((0,c.w)(({id:t})=>this.positionService.show(t))).subscribe({next:t=>{this.position=t,this.loaded=!0},error:t=>{this.router.navigateByUrl("benefit-employee"),r().fire({title:"Error",icon:"error",html:t.error.msg,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",r().stopTimer),i.addEventListener("mouseleave",r().resumeTimer)}})}})}destroy(){r().fire({title:"Est\xe1 seguro?",text:"Al eliminar el usuario se eliminar\xe1 todo registro de la base de datos",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Eliminar!",showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}).then(t=>{t.isConfirmed&&this.positionService.destroy(this.position?.id).subscribe(i=>{r().fire("Deleted!","success"),this.router.navigateByUrl("/positions")})})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(p.e),e.Y36(l.F0),e.Y36(l.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["position-show"]],decls:13,vars:9,consts:[[1,"row","mt-5"],[1,"col"],[1,"row","p-5"],[1,"col-12","d-flex","flex-column"],[4,"ngIf"],[1,"form-text"],[1,"btn-group","float-end","mt-5","mb-5"],["aria-current","page",1,"btn","btn-warning",3,"routerLink","ngClass"],[1,"btn","btn-outline-danger",3,"ngClass","click"],[1,"fa-solid","fa-spinner","fa-spin","fa-xs"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,C,2,0,"div",4),e._uU(5),e.TgZ(6,"span",5),e._uU(7,"Nombre"),e.qZA()()(),e.TgZ(8,"div",6)(9,"a",7),e._uU(10,"Editar"),e.qZA(),e.TgZ(11,"a",8),e.NdJ("click",function(){return i.destroy()}),e._uU(12,"Eliminar"),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.loaded),e.xp6(1),e.hij(" ",null==i.position?null:i.position.name," "),e.xp6(4),e.MGl("routerLink","/position/edit/",null==i.position?null:i.position.id,""),e.Q6J("ngClass",e.VKq(5,h,!i.loaded)),e.xp6(2),e.Q6J("ngClass",e.VKq(7,h,!i.loaded)))},dependencies:[m.mk,m.O5,l.rH],encapsulation:2}),o})();var Z=s(9906),a=s(9401);function x(o,n){1&o&&(e.TgZ(0,"span",8),e._uU(1,"Obligatorio"),e.qZA())}const y=function(o){return{invalid:o}};let f=(()=>{class o{constructor(t,i,d,B){this.fb=t,this.positionService=i,this.router=d,this.activatedRoute=B,this.position={name:"",created_at:new Date,updated_at:new Date},this.disableSubmitBtn=!1,this.createForm=this.fb.group({name:["",[a.kI.required,a.kI.minLength(5)]]})}ngOnInit(){this.positionService.index().subscribe({error:t=>{this.router.navigateByUrl("benefit-employee"),r().fire({title:"Error",icon:"error",html:t.error.msg,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",r().stopTimer),i.addEventListener("mouseleave",r().resumeTimer)}})}}),this.router.url.includes("edit")&&this.activatedRoute.params.pipe((0,c.w)(({id:t})=>this.positionService.show(t))).subscribe({next:t=>{const i=t;this.position=i,this.createForm.get("name")?.setValue(i.name)},error:t=>{this.router.navigateByUrl("benefit-employee"),r().fire({title:"Error",icon:"error",html:t.error.msg,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",r().stopTimer),i.addEventListener("mouseleave",r().resumeTimer)}})}})}campoEsValido(t){return this.createForm.controls[t].errors&&this.createForm.controls[t].touched}save(){this.createForm.invalid?this.createForm.markAllAsTouched():(this.position.id?this.positionService.update(this.position.id,this.createForm.value).subscribe(t=>{r().fire({title:"Actualizado",icon:"success",showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOutUp"}}),this.router.navigateByUrl(`/position/show/${this.position.id}`)}):this.positionService.create(this.createForm.value).subscribe(t=>{this.router.navigateByUrl(`/position/show/${t.id}`)}),this.disableSubmitBtn=!0)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(p.e),e.Y36(l.F0),e.Y36(l.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["position-create"]],decls:11,vars:7,consts:[[1,"row","mt-5"],[1,"col"],[1,"p-5",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","name",1,"form-label"],["type","text","formControlName","name","id","name","placeholder","Nombre Completo",1,"form-control",3,"ngClass"],["class","form-text text-danger",4,"ngIf"],["type","submit",1,"btn","btn-success","float-end",3,"disabled"],[1,"form-text","text-danger"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return i.save()}),e.TgZ(3,"div",3)(4,"label",4),e._uU(5,"Nombre del Cargo"),e.qZA(),e._UZ(6,"input",5),e.YNc(7,x,2,0,"span",6),e.qZA(),e.TgZ(8,"div",3)(9,"button",7),e._uU(10),e.qZA()()()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",i.createForm),e.xp6(4),e.Q6J("ngClass",e.VKq(5,y,i.campoEsValido("name"))),e.xp6(1),e.Q6J("ngIf",i.campoEsValido("name")),e.xp6(2),e.Q6J("disabled",i.disableSubmitBtn),e.xp6(1),e.hij(" ",i.position.id?"Actualizar":"Crear"," "))},dependencies:[m.mk,m.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],encapsulation:2}),o})();const w=[{path:"",component:Z.t,children:[{path:"index",component:b},{path:"create",component:f},{path:"edit/:id",component:f},{path:"show/:id",component:T},{path:"**",redirectTo:"index"}]}];let S=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[l.Bz.forChild(w),l.Bz]}),o})(),U=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.ez,S,a.UX]}),o})()}}]);