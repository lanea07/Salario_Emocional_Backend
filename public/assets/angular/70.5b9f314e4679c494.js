"use strict";(self.webpackChunksalarioemocionalfrontend=self.webpackChunksalarioemocionalfrontend||[]).push([[70],{2070:(ie,M,f)=>{f.r(M),f.d(M,{BenefitEmployeeModule:()=>Ft});var o=f(4755),v=f(9401),T=f(1585),Z=f(5770),w=f(9541),U=f(9089),x=f(5118),q=f(5226),y=f.n(q),e=f(2223);let N=(()=>{class n{transform(t){return t.reduce((a,s)=>a+s.benefit_detail.time_hours,0),t?t.reduce((a,s)=>a+s.benefit_detail.time_hours,0):0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=e.Yjl({name:"sum",type:n,pure:!0}),n})();var C=f(206),O=f(6518),L=f(1239),_=f(3144),B=f(2340);let h=(()=>{class n{constructor(t){this.http=t,this.apiBaseUrl=B.N.apiBaseUrl,this.token=localStorage.getItem("token")}index(t,i){const a=(new _.WM).set("Accept","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`);return this.http.get(`${this.apiBaseUrl}/benefituser?userId=${t}&year=${i}`,{headers:a,withCredentials:!0})}show(t){const i=(new _.WM).set("Accept","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`);return this.http.get(`${this.apiBaseUrl}/benefituser/${t}`,{headers:i,withCredentials:!0})}create(t){const i=(new _.WM).set("Accept","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`);return this.http.post(`${this.apiBaseUrl}/benefituser`,t,{headers:i,withCredentials:!0})}update(t,i){const a=(new _.WM).set("Accept","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`);return this.http.put(`${this.apiBaseUrl}/benefituser/${t}`,i,{headers:a,withCredentials:!0})}destroy(t){const i=(new _.WM).set("Accept","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`);return this.http.delete(`${this.apiBaseUrl}/benefituser/${t}`,{headers:i,withCredentials:!0})}downloadReport(t){const i=(new _.WM).set("Accept","application/json").set("Authorization",`Bearer ${localStorage.getItem("token")}`);return this.http.post(`${this.apiBaseUrl}/exportbenefits`,t,{headers:i,withCredentials:!0})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(_.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var b=f(6550),F=f(427),p=f(1086),W=f(5743),ne=function(){if(typeof window<"u"){if(window.devicePixelRatio)return window.devicePixelRatio;var n=window.screen;if(n)return(n.deviceXDPI||1)/(n.logicalXDPI||1)}return 1}(),J_textSize=function(n,r,t){var d,i=[].concat(r),a=i.length,s=n.font,l=0;for(n.font=t.string,d=0;d<a;++d)l=Math.max(n.measureText(i[d]).width,l);return n.font=s,{height:a*t.lineHeight,width:l}};function z(n,r){var t=r.x,i=r.y;if(null===t)return{x:0,y:-1};if(null===i)return{x:1,y:0};var a=n.x-t,s=n.y-i,l=Math.sqrt(a*a+s*s);return{x:l?a/l:0,y:l?s/l:-1}}var be=0,re=1,ae=2,se=4,oe=8;function H(n,r,t){var i=be;return n<t.left?i|=re:n>t.right&&(i|=ae),r<t.top?i|=oe:r>t.bottom&&(i|=se),i}function j(n,r){var a,s,t=r.anchor,i=n;return r.clamp&&(i=function Ce(n,r){for(var u,c,m,t=n.x0,i=n.y0,a=n.x1,s=n.y1,l=H(t,i,r),d=H(a,s,r);l|d&&!(l&d);)(u=l||d)&oe?(c=t+(a-t)*(r.top-i)/(s-i),m=r.top):u&se?(c=t+(a-t)*(r.bottom-i)/(s-i),m=r.bottom):u&ae?(m=i+(s-i)*(r.right-t)/(a-t),c=r.right):u&re&&(m=i+(s-i)*(r.left-t)/(a-t),c=r.left),u===l?l=H(t=c,i=m,r):d=H(a=c,s=m,r);return{x0:t,x1:a,y0:i,y1:s}}(i,r.area)),"start"===t?(a=i.x0,s=i.y0):"end"===t?(a=i.x1,s=i.y1):(a=(i.x0+i.x1)/2,s=(i.y0+i.y1)/2),function ge(n,r,t,i,a){switch(a){case"center":t=i=0;break;case"bottom":t=0,i=1;break;case"right":t=1,i=0;break;case"left":t=-1,i=0;break;case"top":t=0,i=-1;break;case"start":t=-t,i=-i;break;case"end":break;default:a*=Math.PI/180,t=Math.cos(a),i=Math.sin(a)}return{x:n,y:r,vx:t,vy:i}}(a,s,n.vx,n.vy,r.align)}var $={arc:function(n,r){var t=(n.startAngle+n.endAngle)/2,i=Math.cos(t),a=Math.sin(t),s=n.innerRadius,l=n.outerRadius;return j({x0:n.x+i*s,y0:n.y+a*s,x1:n.x+i*l,y1:n.y+a*l,vx:i,vy:a},r)},point:function(n,r){var t=z(n,r.origin),i=t.x*n.options.radius,a=t.y*n.options.radius;return j({x0:n.x-i,y0:n.y-a,x1:n.x+i,y1:n.y+a,vx:t.x,vy:t.y},r)},bar:function(n,r){var t=z(n,r.origin),i=n.x,a=n.y,s=0,l=0;return n.horizontal?(i=Math.min(n.x,n.base),s=Math.abs(n.base-n.x)):(a=Math.min(n.y,n.base),l=Math.abs(n.base-n.y)),j({x0:i,y0:a+l,x1:i+s,y1:a,vx:t.x,vy:t.y},r)},fallback:function(n,r){var t=z(n,r.origin);return j({x0:n.x,y0:n.y,x1:n.x+(n.width||0),y1:n.y+(n.height||0),vx:t.x,vy:t.y},r)}},D=function(n){return Math.round(n*ne)/ne};function we(n,r){var t=r.chart.getDatasetMeta(r.datasetIndex).vScale;if(!t)return null;if(void 0!==t.xCenter&&void 0!==t.yCenter)return{x:t.xCenter,y:t.yCenter};var i=t.getBasePixel();return n.horizontal?{x:i,y:null}:{x:null,y:i}}function xe(n){return n instanceof W.qi?$.arc:n instanceof W.od?$.point:n instanceof W.ZL?$.bar:$.fallback}function Ue(n,r,t){var i=n.shadowBlur,a=t.stroked,s=D(t.x),l=D(t.y),d=D(t.w);a&&n.strokeText(r,s,l,d),t.filled&&(i&&a&&(n.shadowBlur=0),n.fillText(r,s,l,d),i&&a&&(n.shadowBlur=i))}var le=function(n,r,t,i){var a=this;a._config=n,a._index=i,a._model=null,a._rects=null,a._ctx=r,a._el=t};(0,p.a4)(le.prototype,{_modelize:function(n,r,t,i){var a=this,s=a._index,l=(0,p.a0)((0,p.a)([t.font,{}],i,s)),d=(0,p.a)([t.color,p.d.color],i,s);return{align:(0,p.a)([t.align,"center"],i,s),anchor:(0,p.a)([t.anchor,"center"],i,s),area:i.chart.chartArea,backgroundColor:(0,p.a)([t.backgroundColor,null],i,s),borderColor:(0,p.a)([t.borderColor,null],i,s),borderRadius:(0,p.a)([t.borderRadius,0],i,s),borderWidth:(0,p.a)([t.borderWidth,0],i,s),clamp:(0,p.a)([t.clamp,!1],i,s),clip:(0,p.a)([t.clip,!1],i,s),color:d,display:n,font:l,lines:r,offset:(0,p.a)([t.offset,4],i,s),opacity:(0,p.a)([t.opacity,1],i,s),origin:we(a._el,i),padding:(0,p.E)((0,p.a)([t.padding,4],i,s)),positioner:xe(a._el),rotation:(0,p.a)([t.rotation,0],i,s)*(Math.PI/180),size:J_textSize(a._ctx,r,l),textAlign:(0,p.a)([t.textAlign,"start"],i,s),textShadowBlur:(0,p.a)([t.textShadowBlur,0],i,s),textShadowColor:(0,p.a)([t.textShadowColor,d],i,s),textStrokeColor:(0,p.a)([t.textStrokeColor,d],i,s),textStrokeWidth:(0,p.a)([t.textStrokeWidth,0],i,s)}},update:function(n){var l,d,u,r=this,t=null,i=null,a=r._index,s=r._config,c=(0,p.a)([s.display,!0],n,a);c&&(d=(0,p.v)((0,p.Q)(s.formatter,[l=n.dataset.data[a],n]),l),(u=(0,p.k)(d)?[]:function(n){var t,r=[];for(n=[].concat(n);n.length;)"string"==typeof(t=n.pop())?r.unshift.apply(r,t.split("\n")):Array.isArray(t)?n.push.apply(n,t):(0,p.k)(n)||r.unshift(""+t);return r}(d)).length&&(i=function ye(n){var r=n.borderWidth||0,t=n.padding,i=n.size.height,a=n.size.width,s=-a/2,l=-i/2;return{frame:{x:s-t.left-r,y:l-t.top-r,w:a+t.width+2*r,h:i+t.height+2*r},text:{x:s,y:l,w:a,h:i}}}(t=r._modelize(c,u,s,n)))),r._model=t,r._rects=i},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(n,r){var l,i=n.ctx,a=this._model,s=this._rects;this.visible()&&(i.save(),a.clip&&(l=a.area,i.beginPath(),i.rect(l.left,l.top,l.right-l.left,l.bottom-l.top),i.clip()),i.globalAlpha=function(n,r,t){return Math.max(n,Math.min(r,t))}(0,a.opacity,1),i.translate(D(r.x),D(r.y)),i.rotate(a.rotation),function Ze(n,r,t){var i=t.backgroundColor,a=t.borderColor,s=t.borderWidth;!i&&(!a||!s)||(n.beginPath(),function Te(n,r,t,i,a,s){var l=Math.PI/2;if(s){var d=Math.min(s,a/2,i/2),u=r+d,c=t+d,m=r+i-d,g=t+a-d;n.moveTo(r,c),u<m&&c<g?(n.arc(u,c,d,-Math.PI,-l),n.arc(m,c,d,-l,0),n.arc(m,g,d,0,l),n.arc(u,g,d,l,Math.PI)):u<m?(n.moveTo(u,t),n.arc(m,c,d,-l,l),n.arc(u,c,d,l,Math.PI+l)):c<g?(n.arc(u,c,d,-Math.PI,0),n.arc(u,g,d,0,Math.PI)):n.arc(u,c,d,-Math.PI,Math.PI),n.closePath(),n.moveTo(r,t)}else n.rect(r,t,i,a)}(n,D(r.x)+s/2,D(r.y)+s/2,D(r.w)-s,D(r.h)-s,t.borderRadius),n.closePath(),i&&(n.fillStyle=i,n.fill()),a&&s&&(n.strokeStyle=a,n.lineWidth=s,n.lineJoin="miter",n.stroke()))}(i,s.frame,a),function Se(n,r,t,i){var A,a=i.textAlign,s=i.color,l=!!s,d=i.font,u=r.length,c=i.textStrokeColor,m=i.textStrokeWidth,g=c&&m;if(u&&(l||g))for(t=function Ae(n,r,t){var i=t.lineHeight,a=n.w,s=n.x;return"center"===r?s+=a/2:("end"===r||"right"===r)&&(s+=a),{h:i,w:a,x:s,y:n.y+i/2}}(t,a,d),n.font=d.string,n.textAlign=a,n.textBaseline="middle",n.shadowBlur=i.textShadowBlur,n.shadowColor=i.textShadowColor,l&&(n.fillStyle=s),g&&(n.lineJoin="round",n.lineWidth=m,n.strokeStyle=c),A=0,u=r.length;A<u;++A)Ue(n,r[A],{stroked:g,filled:l,w:t.w,x:t.x,y:t.y+t.h*A})}(i,a.lines,s.text,a),i.restore())}});var Be=Number.MIN_SAFE_INTEGER||-9007199254740991,De=Number.MAX_SAFE_INTEGER||9007199254740991;function R(n,r,t){var i=Math.cos(t),a=Math.sin(t),s=r.x,l=r.y;return{x:s+i*(n.x-s)-a*(n.y-l),y:l+a*(n.x-s)+i*(n.y-l)}}function de(n,r){var s,l,c,t=De,i=Be,a=r.origin;for(s=0;s<n.length;++s)c=r.vx*((l=n[s]).x-a.x)+r.vy*(l.y-a.y),t=Math.min(t,c),i=Math.max(i,c);return{min:t,max:i}}function V(n,r){var t=r.x-n.x,i=r.y-n.y,a=Math.sqrt(t*t+i*i);return{vx:(r.x-n.x)/a,vy:(r.y-n.y)/a,origin:n,ln:a}}var ue=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function ce(n,r,t){var i=r.positioner(n,r),a=i.vx,s=i.vy;if(!a&&!s)return{x:i.x,y:i.y};var l=t.w,d=t.h,u=r.rotation,c=Math.abs(l/2*Math.cos(u))+Math.abs(d/2*Math.sin(u)),m=Math.abs(l/2*Math.sin(u))+Math.abs(d/2*Math.cos(u)),g=1/Math.max(Math.abs(a),Math.abs(s));return c*=a*g,m*=s*g,{x:i.x+(c+=r.offset*a),y:i.y+(m+=r.offset*s)}}(0,p.a4)(ue.prototype,{center:function(){var n=this._rect;return{x:n.x+n.w/2,y:n.y+n.h/2}},update:function(n,r,t){this._rotation=t,this._rect={x:r.x+n.x,y:r.y+n.y,w:r.w,h:r.h}},contains:function(n){var r=this,i=r._rect;return!((n=R(n,r.center(),-r._rotation)).x<i.x-1||n.y<i.y-1||n.x>i.x+i.w+2||n.y>i.y+i.h+2)},intersects:function(n){var a,s,l,r=this._points(),t=n._points(),i=[V(r[0],r[1]),V(r[0],r[3])];for(this._rotation!==n._rotation&&i.push(V(t[0],t[1]),V(t[0],t[3])),a=0;a<i.length;++a)if(s=de(r,i[a]),l=de(t,i[a]),s.max<l.min||l.max<s.min)return!1;return!0},_points:function(){var n=this,r=n._rect,t=n._rotation,i=n.center();return[R({x:r.x,y:r.y},i,t),R({x:r.x+r.w,y:r.y},i,t),R({x:r.x+r.w,y:r.y+r.h},i,t),R({x:r.x,y:r.y+r.h},i,t)]}});var Y={prepare:function(n){var t,i,a,s,l,r=[];for(t=0,a=n.length;t<a;++t)for(i=0,s=n[t].length;i<s;++i)r.push(l=n[t][i]),l.$layout={_box:new ue,_hidable:!1,_visible:!0,_set:t,_idx:l._index};return r.sort(function(d,u){var c=d.$layout,m=u.$layout;return c._idx===m._idx?m._set-c._set:m._idx-c._idx}),this.update(r),r},update:function(n){var t,i,a,s,l,r=!1;for(t=0,i=n.length;t<i;++t)s=(a=n[t]).model(),(l=a.$layout)._hidable=s&&"auto"===s.display,l._visible=a.visible(),r|=l._hidable;r&&function Ie(n){var r,t,i,a,s,l,d;for(r=0,t=n.length;r<t;++r)(a=(i=n[r]).$layout)._visible&&(d=new Proxy(i._el,{get:(u,c)=>u.getProps([c],!0)[c]}),s=i.geometry(),l=ce(d,i.model(),s),a._box.update(l,s,i.rotation()));(function ke(n,r){var t,i,a,s;for(t=n.length-1;t>=0;--t)for(a=n[t].$layout,i=t-1;i>=0&&a._visible;--i)(s=n[i].$layout)._visible&&a._box.intersects(s._box)&&r(a,s)})(n,function(u,c){var m=u._hidable,g=c._hidable;m&&g||g?c._visible=!1:m&&(u._visible=!1)})}(n)},lookup:function(n,r){var t,i;for(t=n.length-1;t>=0;--t)if((i=n[t].$layout)&&i._visible&&i._box.contains(r))return n[t];return null},draw:function(n,r){var t,i,a,s,l,d;for(t=0,i=r.length;t<i;++t)(s=(a=r[t]).$layout)._visible&&(l=a.geometry(),d=ce(a._el,a.model(),l),s._box.update(d,l,a.rotation()),a.draw(n,d))}},S="$datalabels",me="$default";function G(n,r,t,i){if(r){var l,a=t.$context,s=t.$groups;r[s._set]&&(l=r[s._set][s._key])&&!0===(0,p.Q)(l,[a,i])&&(n[S]._dirty=!0,t.update(a))}}var Je={id:"datalabels",defaults:{align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(n){if((0,p.k)(n))return null;var t,i,a,r=n;if((0,p.i)(n))if((0,p.k)(n.label))if((0,p.k)(n.r))for(r="",a=0,i=(t=Object.keys(n)).length;a<i;++a)r+=(0!==a?", ":"")+t[a]+": "+n[t[a]];else r=n.r;else r=n.label;return""+r},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},beforeInit:function(n){n[S]={_actives:[]}},beforeUpdate:function(n){var r=n[S];r._listened=!1,r._listeners={},r._datasets=[],r._labels=[]},afterDatasetUpdate:function(n,r,t){var g,A,k,ve,ee,_e,E,I,i=r.index,a=n[S],s=a._datasets[i]=[],l=n.isDatasetVisible(i),d=n.data.datasets[i],u=function Ee(n,r){var s,l,t=n.datalabels,i={},a=[];return!1===t?null:(!0===t&&(t={}),r=(0,p.a4)({},[r,t]),s=r.labels||{},l=Object.keys(s),delete r.labels,l.length?l.forEach(function(d){s[d]&&a.push((0,p.a4)({},[r,s[d],{_key:d}]))}):a.push(r),i=a.reduce(function(d,u){return(0,p.F)(u.listeners||{},function(c,m){d[m]=d[m]||{},d[m][u._key||me]=c}),delete u.listeners,d},{}),{labels:a,listeners:i})}(d,t),c=r.meta.data||[],m=n.ctx;for(m.save(),g=0,k=c.length;g<k;++g)if((E=c[g])[S]=[],l&&E&&n.getDataVisibility(g)&&!E.skip)for(A=0,ve=u.labels.length;A<ve;++A)_e=(ee=u.labels[A])._key,(I=new le(ee,m,E,g)).$groups={_set:i,_key:_e||me},I.$context={active:!1,chart:n,dataIndex:g,dataset:d,datasetIndex:i},I.update(I.$context),E[S].push(I),s.push(I);m.restore(),(0,p.a4)(a._listeners,u.listeners,{merger:function(P,te,Jt){te[P]=te[P]||{},te[P][r.index]=Jt[P],a._listened=!0}})},afterUpdate:function(n){n[S]._labels=Y.prepare(n[S]._datasets)},afterDatasetsDraw:function(n){Y.draw(n,n[S]._labels)},beforeEvent:function(n,r){if(n[S]._listened){var t=r.event;switch(t.type){case"mousemove":case"mouseout":!function Oe(n,r){var a,s,t=n[S],i=t._listeners;if(i.enter||i.leave){if("mousemove"===r.type)s=Y.lookup(t._labels,r);else if("mouseout"!==r.type)return;a=t._hovered,t._hovered=s,function qe(n,r,t,i,a){var s,l;!t&&!i||(t?i?t!==i&&(l=s=!0):l=!0:s=!0,l&&G(n,r.leave,t,a),s&&G(n,r.enter,i,a))}(n,i,a,s,r)}}(n,t);break;case"click":!function Fe(n,r){var t=n[S],i=t._listeners.click,a=i&&Y.lookup(t._labels,r);a&&G(n,i,a,r)}(n,t)}}},afterEvent:function(n){var s,l,d,u,c,m,g,r=n[S],a=function(n,r){var a,s,l,d,t=n.slice(),i=[];for(a=0,l=r.length;a<l;++a)-1===(s=t.indexOf(d=r[a]))?i.push([d,1]):t.splice(s,1);for(a=0,l=t.length;a<l;++a)i.push([t[a],-1]);return i}(r._actives,r._actives=n.getActiveElements());for(s=0,l=a.length;s<l;++s)if((c=a[s])[1])for(d=0,u=(g=c[0].element[S]||[]).length;d<u;++d)(m=g[d]).$context.active=1===c[1],m.update(m.$context);(r._dirty||a.length)&&(Y.update(r._labels),n.render()),delete r._dirty}};let Re=(()=>{class n{constructor(){this.barChartOptions={responsive:!0,scales:{x:{},y:{max:16,ticks:{stepSize:0}}},plugins:{legend:{display:!0},datalabels:{anchor:"end",align:"end"}}},this.barChartType="bar",this.barChartPlugins=[Je],this.barChartData={labels:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],datasets:[{data:[0,0,0,0,0,0,0,0,0,0,0,0],label:"Horas",backgroundColor:"rgba(200, 16, 46, 0.5)"}]}}ngOnChanges(t){this.barChartData.datasets[0].data=this.input,this.chart?.update()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["bar-chart-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(w.jh,5),2&t){let a;e.iGM(a=e.CRH())&&(i.chart=a.first)}},inputs:{input:"input"},features:[e.TTD],decls:1,vars:4,consts:[["baseChart","",1,"chart",3,"data","options","plugins","type"]],template:function(t,i){1&t&&e._UZ(0,"canvas",0),2&t&&e.Q6J("data",i.barChartData)("options",i.barChartOptions)("plugins",i.barChartPlugins)("type",i.barChartType)},dependencies:[w.jh],encapsulation:2}),n})();var Ye=f(3499),Qe=f(2641),Le=f(7579);const He=["modalContent"];function je(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-month-view",11),e.NdJ("dayClicked",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.dayClicked(a.day))})("eventTimesChanged",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.eventTimesChanged(a))})("eventClicked",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.handleEvent("Clicked",a.event))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("activeDayIsOpen",t.activeDayIsOpen)}}function $e(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-week-view",12),e.NdJ("eventTimesChanged",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.eventTimesChanged(a))})("eventClicked",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.handleEvent("Clicked",a.event))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)}}function Ve(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"mwl-calendar-day-view",12),e.NdJ("eventTimesChanged",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.eventTimesChanged(a))})("eventClicked",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.handleEvent("Clicked",a.event))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)}}function Pe(n,r){if(1&n&&(e.TgZ(0,"a",24),e._uU(1,"Editar"),e.qZA()),2&n){const t=e.oxw(2);e.MGl("href","./benefit-employee/edit/",t.modalData.event.meta.id,"",e.LSH)}}function We(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",25),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.deleteBenefit(a.modalData.event.meta.id))}),e._uU(1,"Eliminar"),e.qZA()}}function ze(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"h5",14),e._uU(2,"Detalle del Beneficio"),e.qZA(),e.TgZ(3,"button",15),e.NdJ("click",function(){const s=e.CHM(t).close;return e.KtG(s())}),e.TgZ(4,"span",16),e._uU(5,"\xd7"),e.qZA()()(),e.TgZ(6,"div",17)(7,"h2"),e._uU(8),e.qZA()(),e.TgZ(9,"div",18)(10,"div",19)(11,"div",20)(12,"small"),e._uU(13,"Beneficio"),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.qZA()(),e.TgZ(16,"div",20)(17,"small"),e._uU(18,"Detalle"),e.qZA(),e.TgZ(19,"p"),e._uU(20),e.qZA()()(),e.TgZ(21,"div",19)(22,"div",20)(23,"small"),e._uU(24,"Fecha de redenci\xf3n"),e.qZA(),e.TgZ(25,"p"),e._uU(26),e.ALo(27,"date"),e.qZA()()()(),e.TgZ(28,"div",21),e.YNc(29,Pe,2,1,"a",22),e.YNc(30,We,2,0,"a",23),e.qZA()}if(2&n){const t=e.oxw();e.xp6(8),e.hij("Colaborador: ",t.modalData.event.title,""),e.xp6(7),e.Oqu(t.modalData.event.meta.benefits.name),e.xp6(5),e.Oqu(t.modalData.event.meta.benefit_detail.name),e.xp6(6),e.Oqu(e.xi3(27,6,t.modalData.event.meta.benefit_begin_time,"medium")),e.xp6(3),e.Q6J("ngIf",t.isAdmin),e.xp6(1),e.Q6J("ngIf",t.isAdmin)}}const fe={primary:{primary:"#37a91b",secondary:"#55ffbb"},secondary:{primary:"#888888",secondary:"#bbbbbb"}};let Ge=(()=>{class n{constructor(t,i,a){this.modal=t,this.benefitUserService=i,this.authService=a,this.view=T.wr.Month,this.CalendarView=T.wr,this.viewDate=new Date,this.isAdmin=!1,this.refresh=new Le.x,this.events=[],this.activeDayIsOpen=!1}ngOnInit(){this.authService.validarAdmin().subscribe({next:t=>{this.isAdmin=t.admin},error:t=>{y().fire({title:"Error",icon:"error",html:t.error.msg,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",y().stopTimer),i.addEventListener("mouseleave",y().resumeTimer)}})}})}ngOnChanges(t){this.addEventsToCalendar(this.data)}dayClicked({date:t,events:i}){(0,Ye.Z)(t,this.viewDate)?(this.activeDayIsOpen=!((0,Qe.Z)(this.viewDate,t)&&!0===this.activeDayIsOpen||0===i.length),this.viewDate=t):(this.viewDate=t,this.activeDayIsOpen=!1)}eventTimesChanged({event:t,newStart:i,newEnd:a}){this.events=this.events.map(s=>s===t?{...t,start:i,end:a}:s)}handleEvent(t,i){this.modalData={event:i,action:t},this.modal.open(this.modalContent,{size:"lg"})}setView(t){this.view=t}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}addEventsToCalendar(t){this.events=[],t?.flat().forEach(i=>{let{benefit_user:a}=i;a.forEach(s=>{("Mi Viernes"===s.benefits.name||"Mi Banco de Horas"===s.benefits.name||"Mi Cumplea\xf1os"===s.benefits.name)&&(this.events=[...this.events,{title:i.name+" - "+s.benefits.name+" - "+s.benefit_detail.name,start:new Date(s.benefit_begin_time),end:new Date(s.benefit_end_time),color:i.id===Number.parseInt(localStorage.getItem("uid"))?fe.primary:fe.secondary,draggable:!1,meta:s}])})})}deleteBenefit(t){y().fire({title:"Eliminar beneficio?",text:"Confirme que desea eliminar el beneficio.",icon:"question",showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOutUp"},showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.benefitUserService.destroy(this.modalData.event.meta.id).subscribe({next:()=>{this.events=this.events.filter(a=>a.meta.id!==t),this.refresh.next(),this.modal.dismissAll(),this.activeDayIsOpen=!1},error:a=>{}})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(U.FF),e.Y36(h),e.Y36(O.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["calendar-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(He,7),2&t){let a;e.iGM(a=e.CRH())&&(i.modalContent=a.first)}},inputs:{data:"data"},features:[e.TTD],decls:28,vars:20,consts:[[1,"row","text-center"],[1,"col-md-4"],[1,"btn-group"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-outline-secondary",3,"viewDate","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","viewDateChange"],[1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventTimesChanged","eventClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventTimesChanged","eventClicked",4,"ngSwitchCase"],["modalContent",""],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventTimesChanged","eventClicked"],[3,"viewDate","events","refresh","eventTimesChanged","eventClicked"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"container"],[1,"row"],[1,"col-6"],[1,"modal-footer"],["class","btn btn-warning",3,"href",4,"ngIf"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","btn-warning",3,"href"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.NdJ("viewDateChange",function(s){return i.viewDate=s})("viewDateChange",function(){return i.closeOpenMonthViewDay()}),e._uU(4," Anterior "),e.qZA(),e.TgZ(5,"div",4),e.NdJ("viewDateChange",function(s){return i.viewDate=s}),e._uU(6," Hoy "),e.qZA(),e.TgZ(7,"div",5),e.NdJ("viewDateChange",function(s){return i.viewDate=s})("viewDateChange",function(){return i.closeOpenMonthViewDay()}),e._uU(8," Siguiente "),e.qZA()()(),e.TgZ(9,"div",1)(10,"h3"),e._uU(11),e.ALo(12,"calendarDate"),e.qZA()(),e.TgZ(13,"div",1)(14,"div",2)(15,"div",6),e.NdJ("click",function(){return i.setView(i.CalendarView.Month)}),e._uU(16," Mes "),e.qZA(),e.TgZ(17,"div",6),e.NdJ("click",function(){return i.setView(i.CalendarView.Week)}),e._uU(18," Semana "),e.qZA(),e.TgZ(19,"div",6),e.NdJ("click",function(){return i.setView(i.CalendarView.Day)}),e._uU(20," D\xeda "),e.qZA()()()(),e._UZ(21,"br"),e.TgZ(22,"div",7),e.YNc(23,je,1,4,"mwl-calendar-month-view",8),e.YNc(24,$e,1,3,"mwl-calendar-week-view",9),e.YNc(25,Ve,1,3,"mwl-calendar-day-view",9),e.qZA(),e.YNc(26,ze,31,9,"ng-template",null,10,e.W1O)),2&t&&(e.xp6(3),e.Q6J("view",i.view)("viewDate",i.viewDate),e.xp6(2),e.Q6J("viewDate",i.viewDate),e.xp6(2),e.Q6J("view",i.view)("viewDate",i.viewDate),e.xp6(4),e.Oqu(e.Dn7(12,16,i.viewDate,i.view+"ViewTitle","en")),e.xp6(4),e.ekj("active",i.view===i.CalendarView.Month),e.xp6(2),e.ekj("active",i.view===i.CalendarView.Week),e.xp6(2),e.ekj("active",i.view===i.CalendarView.Day),e.xp6(3),e.Q6J("ngSwitch",i.view),e.xp6(1),e.Q6J("ngSwitchCase",i.CalendarView.Month),e.xp6(1),e.Q6J("ngSwitchCase",i.CalendarView.Week),e.xp6(1),e.Q6J("ngSwitchCase",i.CalendarView.Day))},dependencies:[T.YX,T.MG,T.nA,T.GH,T.TK,T.Se,o.O5,o.RF,o.n9,T.vk,o.uU],encapsulation:2,changeDetection:0}),n})(),Ke=(()=>{class n{constructor(){this.doughnutChartLabels=["Usadas","Disponibles"],this.doughnutChartData={labels:this.doughnutChartLabels,datasets:[{data:[this.totalBancoHoras,16-this.totalBancoHoras],backgroundColor:["#C8102E","gray"],hoverBackgroundColor:["#D8102E","darkgray"]}]},this.doughnutChartType="doughnut"}ngOnChanges(t){this.doughnutChartData.datasets[0].data=[this.totalBancoHoras,16-this.totalBancoHoras],this.chart?.chart?.update()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["doughnut-chart-component"]],viewQuery:function(t,i){if(1&t&&e.Gf(w.jh,5),2&t){let a;e.iGM(a=e.CRH())&&(i.chart=a.first)}},inputs:{totalBancoHoras:"totalBancoHoras"},features:[e.TTD],decls:1,vars:2,consts:[["baseChart","",1,"chart",3,"data","type"]],template:function(t,i){1&t&&e._UZ(0,"canvas",0),2&t&&e.Q6J("data",i.doughnutChartData)("type",i.doughnutChartType)},dependencies:[w.jh],encapsulation:2}),n})();function Xe(n,r){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t),e.xp6(1),e.hij("",t," ")}}function et(n,r){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.MGl("value"," ",null==t?null:t.id,""),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function tt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,et,2,2,"option",8),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.users)}}function it(n,r){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.MGl("value"," ",t.id,""),e.xp6(1),e.hij(" ",t.name," ")}}function nt(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"option",19),e._uU(2),e.qZA(),e.YNc(3,it,2,2,"option",8),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.MGl("value"," ",null==t.user?null:t.user.id,""),e.xp6(1),e.hij(" ",null==t.user?null:t.user.name," "),e.xp6(1),e.Q6J("ngForOf",null==t.user?null:t.user.subordinates)}}function rt(n,r){1&n&&e._UZ(0,"div")}function at(n,r){1&n&&e._UZ(0,"img",35)}function st(n,r){1&n&&e._UZ(0,"img",36)}function ot(n,r){1&n&&e._UZ(0,"img",37)}function lt(n,r){1&n&&e._UZ(0,"img",38)}function dt(n,r){1&n&&e._UZ(0,"img",39)}function ut(n,r){if(1&n&&(e.TgZ(0,"div",40)(1,"div",41),e._UZ(2,"doughnut-chart-component",42),e.qZA(),e.TgZ(3,"div",43),e._UZ(4,"bar-chart-component",44),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("totalBancoHoras",t.totalBancoHoras),e.xp6(2),e.Q6J("input",t.bancosHoras)}}function ct(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",24)(2,"div",25),e.YNc(3,at,1,0,"img",26),e.YNc(4,st,1,0,"img",27),e.YNc(5,ot,1,0,"img",28),e.YNc(6,lt,1,0,"img",29),e.YNc(7,dt,1,0,"img",30),e.qZA(),e.TgZ(8,"div",31)(9,"div",32),e._uU(10),e.qZA(),e._UZ(11,"ul",33),e.qZA()(),e.YNc(12,ut,5,2,"div",34),e.qZA()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.Q6J("ngSwitch",t.name),e.xp6(1),e.Q6J("ngSwitchCase","Mi Cumplea\xf1os"),e.xp6(1),e.Q6J("ngSwitchCase","Mi Banco de Horas"),e.xp6(1),e.Q6J("ngSwitchCase","Mi Horario Flexible"),e.xp6(1),e.Q6J("ngSwitchCase","Mi Viernes"),e.xp6(1),e.Q6J("ngSwitchCase","Tiempo para el Viajero"),e.xp6(3),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("innerHTML",i.selectBenefit(t.id),e.oJD),e.xp6(1),e.Q6J("ngIf","Mi Banco de Horas"===t.name)}}function mt(n,r){if(1&n){const t=e.EpF();e._UZ(0,"hr"),e.TgZ(1,"div",20)(2,"div",21)(3,"h2"),e._uU(4),e.qZA(),e.TgZ(5,"button",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.closePanel())}),e.qZA()(),e.YNc(6,ct,13,9,"div",23),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.hij("Detalle de beneficios de ",null==t.currentUserBenefits?null:t.currentUserBenefits.name,""),e.xp6(2),e.Q6J("ngForOf",t.benefits)}}let ft=(()=>{class n{constructor(t,i,a,s,l,d,u,c,m,g){this.as=t,this.authService=i,this.benefitService=a,this.benefitUserService=s,this.fb=l,this.renderer=d,this.router=u,this.sanitizer=c,this.titleService=m,this.userService=g,this.bancosHoras=[0,0,0,0,0,0,0,0,0,0,0,0],this.isAdmin=!1,this.totalBancoHoras=0,this.viewBenefitUser=this.fb.group({years:[(new Date).getFullYear().toString(),v.kI.required],users:["",v.kI.required]}),this.years=[];const A=(new Date).getFullYear();for(let k=A;k>A-5;k--)this.years.push(k);this.titleService.setTitle("Detalle de Beneficios de los colaboradores")}ngOnInit(){this.viewBenefitUser.get("users").disable(),this.authService.validarAdmin().subscribe({next:t=>{this.isAdmin=t.admin,this.isAdmin?this.userService.index().subscribe({next:i=>{this.users=i.filter(a=>a.valid_id),this.viewBenefitUser.get("users").enable()},error:i=>{this.router.navigateByUrl("benefit-employee"),y().fire({title:"Error",icon:"error",html:i.error.msg,timer:3e3,timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",y().stopTimer),a.addEventListener("mouseleave",y().resumeTimer)}})}}):this.userService.show(Number.parseInt(localStorage.getItem("uid"))).subscribe({next:i=>{this.user=Object.values(i)[0],this.viewBenefitUser.get("users").enable()},error:i=>{this.router.navigateByUrl("benefit-employee"),y().fire({title:"Error",icon:"error",html:i.error.msg,timer:3e3,timerProgressBar:!0,didOpen:a=>{a.addEventListener("mouseenter",y().stopTimer),a.addEventListener("mouseleave",y().resumeTimer)}})}})}}),this.benefitService.index().subscribe(t=>{this.benefits=t}),this.benefitUserService.index(Number.parseInt(localStorage.getItem("uid")),this.viewBenefitUser.get("years")?.value).subscribe(t=>{this.allUsersBenefits=t,this.calendarData=this.allUsersBenefits.filter(i=>i.valid_id)})}ngAfterViewInit(){this.renderer.listen("document","click",t=>{t.target.hasAttribute("benefit_employee_id")&&this.router.navigate(["/benefit-employee/show/"+t.target.getAttribute("benefit_employee_id")])})}getBenefitDetail(t){this.viewBenefitUser.get("years")?.value&&this.viewBenefitUser.get("users")?.value&&this.benefitUserService.index(Number.parseInt(localStorage.getItem("uid")),this.viewBenefitUser.get("years")?.value).subscribe(i=>{this.allUsersBenefits=i,this.currentUserBenefits=this.allUsersBenefits.find(s=>s.id===Number.parseInt(this.viewBenefitUser.controls.users.value)),this.calendarData=this.allUsersBenefits,this.bancosHoras=this.bancosHoras.map(s=>0),this.currentUserBenefits.benefit_user.filter(s=>"Mi Banco de Horas"===s.benefits.name).map(s=>{this.bancosHoras[new Date(s.benefit_begin_time).getMonth()]+=s.benefit_detail.time_hours||0})})}selectBenefit(t){let i=this.currentUserBenefits?.benefit_user.filter(a=>a.benefit_id===t);if(i?.length){let a="",s="";switch(i[0].benefits.name){case"Mi Cumplea\xf1os":return s=i?`<li class="list-group-item">\n              Fecha de redenci\xf3n: ${new o.uU("en-US").transform(i[0].benefit_begin_time,"dd/MM/yyyy, hh:mm a")}\n              <small><span style="cursor: pointer;" class="text-link link-primary" benefit_employee_id="${i[0].id}">Ampliar</span></small>\n            </li>`:'<li class="list-group-item">No se encontraron beneficios registrados</li>',this.sanitizer.bypassSecurityTrustHtml(s);case"Mi Banco de Horas":return this.totalBancoHoras=(new N).transform(i),i.forEach(l=>{a+=`<li class="list-group-item">\n              ${new o.uU("en-US").transform(l.benefit_begin_time,"dd/MM/yyyy, hh:mm a")}: ${l.benefit_detail.time_hours} horas\n              <small><span style="cursor: pointer;" class="text-link link-primary" benefit_employee_id="${l.id}">Ampliar</span></small>\n            </li>`}),i?this.sanitizer.bypassSecurityTrustHtml(a):'<li class="list-group-item">No se encontraron beneficios registrados</li>';case"Mi Horario Flexible":return i.forEach(l=>{a+=`<li class="list-group-item">\n              ${new o.uU("en-US").transform(l.benefit_begin_time,"dd/MM/yyyy, hh:mm a")}\n              <small><span style="cursor: pointer;" class="text-link link-primary" benefit_employee_id="${l.id}">Ampliar</span></small>\n            </li>`}),i?this.sanitizer.bypassSecurityTrustHtml(a):'<li class="list-group-item">No se encontraron beneficios registrados</li>';case"Mi Viernes":return i.forEach(l=>{a+=`<li class="list-group-item">\n              ${new o.uU("en-US").transform(l.benefit_begin_time,"dd/MM/yyyy, hh:mm a")}: ${l.benefit_detail.time_hours} horas\n              <small><span style="cursor: pointer;" class="text-link link-primary" benefit_employee_id="${l.id}">Ampliar</span></small>\n            </li>`}),i?this.sanitizer.bypassSecurityTrustHtml(a):'<li class="list-group-item">No se encontraron beneficios registrados</li>';case"Tiempo para el Viajero":return s=i?`<li class="list-group-item">\n                ${i[0].benefit_detail.name}\n                <small><span style="cursor: pointer;" class="text-link link-primary" benefit_employee_id="${i[0].id}">Ampliar</span></small>\n              </li>`:'<li class="list-group-item">No se encontraron beneficios registrados</li>',this.sanitizer.bypassSecurityTrustHtml(s)}}return this.totalBancoHoras=0,'<li class="list-group-item">No se encontraron beneficios registrados</li>'}closePanel(){this.viewBenefitUser.controls.users.setValue("")}downloadReport(){this.benefitUserService.downloadReport(this.viewBenefitUser.value).subscribe({next:t=>this.as.subscriptionAlert(C.fI.CREADO,C.gW.INFO,"El reporte fue programado y ser\xe1 enviado a tu correo. Revisa tu bandeja de correo no deseado si es necesario."),error:t=>t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C.c9),e.Y36(O.e),e.Y36(L.T),e.Y36(h),e.Y36(v.qu),e.Y36(e.Qsj),e.Y36(x.F0),e.Y36(b.H7),e.Y36(b.Dx),e.Y36(F.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["benefitemployee-index"]],decls:29,vars:8,consts:[[1,"row","mt-5"],[1,"col"],[3,"formGroup","ngSubmit"],[1,"row","p-3"],[1,"col-sm-4","my-1","my-sm-0"],[1,"input-group"],["for","years",1,"input-group-text"],["formControlName","years",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-8","my-1","my-sm-0"],["for","user",1,"input-group-text"],["formControlName","users",1,"form-select",3,"change"],["value",""],[4,"ngIf"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[4,"ngIf","ngIfThen"],[1,"row","p-3","bg-light","rounded","shadow"],[3,"data"],["newBenefitDetailTemplate",""],[3,"value"],[1,"row","shadow","rounded","mb-3","pb-3","bg-light"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[4,"ngFor","ngForOf"],[1,"input-group","mt-3"],[1,"input-group-text",2,"width","20%",3,"ngSwitch"],["src","./assets/images/cumplea\xf1os.svg","width","100%;",4,"ngSwitchCase"],["src","./assets/images/banco_horas.svg","width","100%;",4,"ngSwitchCase"],["src","./assets/images/horario_flexible.svg","width","100%;",4,"ngSwitchCase"],["src","./assets/images/mi_viernes.svg","width","100%;",4,"ngSwitchCase"],["src","./assets/images/tiempo_viajero.svg","width","100%;",4,"ngSwitchCase"],[1,"form-control"],[1,"card-header"],[1,"list-group","list-group-flush",3,"innerHTML"],["class","row",4,"ngIf"],["src","./assets/images/cumplea\xf1os.svg","width","100%;"],["src","./assets/images/banco_horas.svg","width","100%;"],["src","./assets/images/horario_flexible.svg","width","100%;"],["src","./assets/images/mi_viernes.svg","width","100%;"],["src","./assets/images/tiempo_viajero.svg","width","100%;"],[1,"row"],[1,"col-4"],[3,"totalBancoHoras"],[1,"col-8"],[3,"input"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2),e.NdJ("ngSubmit",function(){return i.downloadReport()}),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"label",6),e._uU(7,"A\xf1o"),e.qZA(),e.TgZ(8,"select",7),e.NdJ("change",function(s){return i.getBenefitDetail(s)}),e.YNc(9,Xe,2,2,"option",8),e.qZA()()(),e.TgZ(10,"div",9)(11,"div",5)(12,"label",10),e._uU(13,"Colaborador"),e.qZA(),e.TgZ(14,"select",11),e.NdJ("change",function(s){return i.getBenefitDetail(s)}),e.TgZ(15,"option",12),e._uU(16," -- Seleccione un colaborador -- "),e.qZA(),e.YNc(17,tt,2,1,"ng-container",13),e.YNc(18,nt,4,3,"ng-container",13),e.qZA(),e.TgZ(19,"button",14),e._uU(20,"Descargar"),e.qZA()()()()()()(),e.YNc(21,rt,1,0,"div",15),e._UZ(22,"hr"),e.TgZ(23,"div",16)(24,"h2"),e._uU(25,"Calendario de beneficios MiViernes - Mis colaboradores"),e.qZA(),e._UZ(26,"calendar-component",17),e.qZA(),e.YNc(27,mt,7,2,"ng-template",null,18,e.W1O)),2&t){const a=e.MAs(28);e.xp6(2),e.Q6J("formGroup",i.viewBenefitUser),e.xp6(7),e.Q6J("ngForOf",i.years),e.xp6(8),e.Q6J("ngIf",i.isAdmin),e.xp6(1),e.Q6J("ngIf",!i.isAdmin),e.xp6(1),e.Q6J("disabled",!i.viewBenefitUser.valid),e.xp6(2),e.Q6J("ngIf",i.viewBenefitUser.valid&&i.viewBenefitUser.get("users").enabled)("ngIfThen",a),e.xp6(5),e.Q6J("data",i.calendarData)}},dependencies:[o.sg,o.O5,o.RF,o.n9,v._Y,v.YN,v.Kr,v.EJ,v.JJ,v.JL,v.sg,v.u,Re,Ge,Ke],encapsulation:2}),n})();var K=f(3900);function pt(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",9),e.qZA())}function ht(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",9),e.qZA())}function vt(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",9),e.qZA())}function _t(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",9),e.qZA())}function gt(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"i",9),e.qZA())}const pe=function(n){return{disabled:n}};let bt=(()=>{class n{constructor(t,i,a,s,l){this.activatedRoute=t,this.as=i,this.benefitUserService=a,this.router=s,this.titleService=l,this.loaded=!1,this.titleService.setTitle("Detalle")}ngOnInit(){this.activatedRoute.params.pipe((0,K.w)(({id:t})=>this.benefitUserService.show(t))).subscribe({next:t=>{this.benefitUser=Object.values(t)[0],this.loaded=!0},error:t=>{this.router.navigateByUrl("benefit-employee/index"),this.as.subscriptionAlert(C.fI.ERROR,C.gW.ERROR,t.error.message)}})}deleteBenefit(t){y().fire({title:"Eliminar beneficio?",text:"Confirme que desea eliminar el beneficio.",icon:"question",showClass:{popup:"animate__animated animate__fadeIn"},hideClass:{popup:"animate__animated animate__fadeOutUp"},showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&this.benefitUserService.destroy(t).subscribe({next:a=>{this.as.subscriptionAlert(C.fI.ELIMINADO,C.gW.SUCCESS),this.router.navigateByUrl("/benefit-employee/index")},error:a=>this.as.subscriptionAlert(C.fI.ERROR,C.gW.ERROR,a.error.message)})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.gz),e.Y36(C.c9),e.Y36(h),e.Y36(x.F0),e.Y36(b.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["benefitemployee-show"]],decls:36,vars:23,consts:[[1,"row","mt-5"],[1,"col"],[1,"row","p-5"],[1,"col-xs-12","col-md-4","d-flex","flex-column"],[4,"ngIf"],[1,"form-text"],[1,"btn-group","float-end","mt-5","mb-5"],["aria-current","page",1,"btn","btn-warning",3,"routerLink","ngClass"],[1,"btn","btn-outline-danger",3,"ngClass","click"],[1,"fa-solid","fa-spinner","fa-spin","fa-xs"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,pt,2,0,"div",4),e._uU(5),e.TgZ(6,"span",5),e._uU(7,"Nombre"),e.qZA()(),e.TgZ(8,"div",3),e.YNc(9,ht,2,0,"div",4),e._uU(10),e.TgZ(11,"span",5),e._uU(12,"Beneficio"),e.qZA()(),e.TgZ(13,"div",3),e.YNc(14,vt,2,0,"div",4),e._uU(15),e.TgZ(16,"span",5),e._uU(17,"Tiempo utilizado"),e.qZA()()(),e.TgZ(18,"div",2)(19,"div",3),e.YNc(20,_t,2,0,"div",4),e._uU(21),e.ALo(22,"date"),e.TgZ(23,"span",5),e._uU(24,"Fecha de Inicio"),e.qZA()(),e.TgZ(25,"div",3),e.YNc(26,gt,2,0,"div",4),e._uU(27),e.ALo(28,"date"),e.TgZ(29,"span",5),e._uU(30,"Finaliza"),e.qZA()()(),e.TgZ(31,"div",6)(32,"a",7),e._uU(33,"Editar"),e.qZA(),e.TgZ(34,"a",8),e.NdJ("click",function(){return i.deleteBenefit(null==i.benefitUser?null:i.benefitUser.benefit_user[0].id)}),e._uU(35,"Eliminar"),e.qZA()()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",!i.loaded),e.xp6(1),e.hij(" ",null==i.benefitUser?null:i.benefitUser.name," "),e.xp6(4),e.Q6J("ngIf",!i.loaded),e.xp6(1),e.hij(" ",null==i.benefitUser?null:i.benefitUser.benefit_user[0].benefits.name," "),e.xp6(4),e.Q6J("ngIf",!i.loaded),e.xp6(1),e.hij(" ",null==i.benefitUser?null:i.benefitUser.benefit_user[0].benefit_detail.name," "),e.xp6(5),e.Q6J("ngIf",!i.loaded),e.xp6(1),e.hij(" ",e.xi3(22,13,null==i.benefitUser?null:i.benefitUser.benefit_user[0].benefit_begin_time,"dd/MM/yyyy hh:ss a")," "),e.xp6(5),e.Q6J("ngIf",!i.loaded),e.xp6(1),e.hij(" ",e.xi3(28,16,null==i.benefitUser?null:i.benefitUser.benefit_user[0].benefit_end_time,"dd/MM/yyyy hh:ss a")," "),e.xp6(5),e.MGl("routerLink","/benefit-employee/edit/",null==i.benefitUser?null:i.benefitUser.benefit_user[0].id,""),e.Q6J("ngClass",e.VKq(19,pe,!i.loaded)),e.xp6(2),e.Q6J("ngClass",e.VKq(21,pe,!i.loaded)))},dependencies:[x.rH,o.mk,o.O5,o.uU],encapsulation:2}),n})();var Ct=f(9906),yt=f(4128),wt=f(8505),xt=f(9358);function Tt(n,r){if(1&n&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function Zt(n,r){1&n&&(e.TgZ(0,"span",27),e._UZ(1,"i",28),e.qZA())}function At(n,r){if(1&n&&(e.TgZ(0,"small",29),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.userIdErrors)}}function Ut(n,r){if(1&n&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function St(n,r){1&n&&(e.TgZ(0,"span",27),e._UZ(1,"i",28),e.qZA())}function Bt(n,r){if(1&n&&(e.TgZ(0,"small",29),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.benefitIdErrors)}}function Dt(n,r){if(1&n&&(e.TgZ(0,"option",26),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name,"")}}function kt(n,r){1&n&&(e.TgZ(0,"span",27),e._UZ(1,"i",28),e.qZA())}function It(n,r){if(1&n&&(e.TgZ(0,"small",29),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.benefitDetailIdErrors)}}function Mt(n,r){if(1&n&&(e.TgZ(0,"small",29),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.datePickerErrors)}}function Nt(n,r){if(1&n&&(e.TgZ(0,"small",29),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.timePickerErrors)}}const Q=function(n){return{invalid:n}},X=n=>n<10?`0${n}`:`${n}`;let Et=(()=>{class n extends U.Cw{fromModel(t){if(!t)return null;const i=t.split(":");return{hour:parseInt(i[0],10),minute:parseInt(i[1],10),second:parseInt(i[2],10)}}toModel(t){return null!=t?`${X(t.hour)}:${X(t.minute)}:${X(t.second)}`:null}}return n.\u0275fac=function(){let r;return function(i){return(r||(r=e.n5z(n)))(i||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),he=(()=>{class n{get userIdErrors(){return(this.createForm.get("user_id")?.errors).required?"El campo es obligatorio":""}get benefitIdErrors(){return(this.createForm.get("benefit_id")?.errors).required?"El campo es obligatorio":""}get benefitDetailIdErrors(){return(this.createForm.get("benefit_detail_id")?.errors).required?"El campo es obligatorio":""}get datePickerErrors(){return(this.createForm.get("model")?.errors).required?"El campo es obligatorio":""}get timePickerErrors(){return(this.createForm.get("time")?.errors).required?"El campo es obligatorio":""}constructor(t,i,a,s,l,d,u,c,m,g,A){this.activatedRoute=t,this.as=i,this.authService=a,this.benefitService=s,this.benefitUserService=l,this.changeDetectorRef=d,this.fb=u,this.ngbCalendar=c,this.userService=m,this.router=g,this.titleService=A,this.benefitDetailSpinner=!0,this.createForm=this.fb.group({benefit_begin_time:[""],benefit_detail_id:[{value:"",disabled:!0},v.kI.required],benefit_end_time:[""],benefit_id:[{value:"",disabled:!0},v.kI.required],model:["",v.kI.required],time:["",v.kI.required],user_id:[{value:"",disabled:!0},v.kI.required]}),this.disableSubmitBtn=!1,this.meridian=!0,this.userAndBenefitSpinner=!0,this.isDayDisabled=k=>6===this.ngbCalendar.getWeekday(k)||7===this.ngbCalendar.getWeekday(k),this.titleService.setTitle("Nuevo beneficio para el colaborador")}ngOnInit(){(0,yt.D)({validarAdmin:this.authService.validarAdmin().pipe((0,K.w)(t=>t?this.userService.index():this.userService.show(Number.parseInt(localStorage.getItem("uid"))))),loadBenefits:this.benefitService.index().pipe((0,wt.b)(t=>{this.benefits=t,this.createForm.get("benefit_id")?.enable(),this.userAndBenefitSpinner=!1}))}).subscribe({next:({validarAdmin:t})=>{this.users=Object.values(t).filter(a=>a.valid_id),this.createForm.get("user_id")?.enable(),this.router.url.includes("edit")&&this.activatedRoute.params.pipe((0,K.w)(({id:a})=>this.benefitUserService.show(a))).subscribe({next:a=>{this.currentUserBenefits=Object.values(a)[0],this.createForm.get("user_id")?.disable(),this.createForm.get("benefit_id")?.setValue(this.currentUserBenefits.benefit_user[0].benefits.id),this.dp?.navigateTo({year:new Date(this.currentUserBenefits.benefit_user[0].benefit_begin_time).getFullYear(),month:new Date(this.currentUserBenefits.benefit_user[0].benefit_begin_time).getMonth()+1}),this.createForm.get("model")?.setValue({year:new Date(this.currentUserBenefits.benefit_user[0].benefit_begin_time).getFullYear(),month:new Date(this.currentUserBenefits.benefit_user[0].benefit_begin_time).getMonth()+1,day:new Date(this.currentUserBenefits.benefit_user[0].benefit_begin_time).getDate()}),this.tp?.updateHour(new Date(this.currentUserBenefits.benefit_user[0].benefit_begin_time).getHours().toString()),this.tp?.updateMinute(new Date(this.currentUserBenefits.benefit_user[0].benefit_begin_time).getMinutes().toString()),this.createForm.get("user_id")?.setValue(this.currentUserBenefits.id),this.fillBenefitDetail(this.currentUserBenefits.benefit_user[0].benefits.id)},error:a=>{this.router.navigateByUrl("benefit-employee"),this.as.subscriptionAlert(C.fI.ERROR,C.gW.ERROR,a.statusText)}})},error:t=>{this.router.navigateByUrl("benefit-employee"),y().fire({title:"Error",icon:"error",html:t.error.message,timer:3e3,timerProgressBar:!0,didOpen:i=>{i.addEventListener("mouseenter",y().stopTimer),i.addEventListener("mouseleave",y().resumeTimer)}})}}),this.createForm.get("benefit_detail_id").valueChanges.subscribe(t=>{this.selectedBenefitDetail=this.benefit_details?.find(i=>i.id===Number.parseInt(t||0))})}ngAfterViewChecked(){this.changeDetectorRef.detectChanges()}campoEsValido(t){return this.createForm.controls[t].errors&&this.createForm.controls[t].touched}save(){if(this.createForm.invalid)return void this.createForm.markAllAsTouched();let t=`${this.createForm.get("model")?.value.year}-${this.createForm.get("model")?.value.month}-${this.createForm.get("model")?.value.day} ${this.createForm.get("time")?.value}`;this.createForm.get("benefit_begin_time")?.setValue((0,o.p6)(new Date(t),"yyyy-MM-dd HH:mm:ss","en-US")),this.createForm.get("benefit_end_time")?.setValue((0,o.p6)((0,xt.Z)(new Date(t),this.selectedBenefitDetail.time_hours).toString(),"yyyy-MM-dd HH:mm:ss","en-US")),this.currentUserBenefits?.id?this.benefitUserService.update(this.currentUserBenefits.benefit_user[0].id,this.createForm.getRawValue()).subscribe({next:()=>{this.disableSubmitBtn=!1,this.as.subscriptionAlert(C.fI.ACTUALIZADO,C.gW.SUCCESS)},error:({error:i})=>{this.disableSubmitBtn=!1,this.as.subscriptionAlert(C.fI.ERROR,C.gW.ERROR,i.message)}}):this.benefitUserService.create(this.createForm.value).subscribe({next:()=>{this.disableSubmitBtn=!1,this.as.subscriptionAlert(C.fI.CREADO,C.gW.SUCCESS),this.createForm.reset()},error:({error:i})=>{this.as.subscriptionAlert(C.fI.ERROR,C.gW.ERROR,i.message),this.disableSubmitBtn=!1}}),this.disableSubmitBtn=!0}fillBenefitDetail(t){this.createForm.get("benefit_detail_id").reset(""),this.benefitDetailSpinner=!1,this.benefitService.show(t.target?.value||t).subscribe(i=>{this.benefit_details=Object.values(i)[0].benefit_detail,this.createForm.get("benefit_id").valid&&(this.benefitDetailSpinner=!0,this.createForm.get("benefit_detail_id").enable()),this.router.url.includes("edit")&&this.createForm.get("benefit_detail_id")?.setValue(this.currentUserBenefits.benefit_user[0].benefit_detail.id)}),this.isDayDisabled=t.target&&"Mi Viernes"==t.target.options[t.target.options.selectedIndex].text?i=>5!==this.ngbCalendar.getWeekday(i):i=>6===this.ngbCalendar.getWeekday(i)||7===this.ngbCalendar.getWeekday(i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.gz),e.Y36(C.c9),e.Y36(O.e),e.Y36(L.T),e.Y36(h),e.Y36(e.sBO),e.Y36(v.qu),e.Y36(U.vL),e.Y36(F.K),e.Y36(x.F0),e.Y36(b.Dx))},n.\u0275cmp=e.Xpm({type:n,selectors:[["benefitemployee-create"]],viewQuery:function(t,i){if(1&t&&(e.Gf(U.VL,5),e.Gf(U.Pm,5)),2&t){let a;e.iGM(a=e.CRH())&&(i.dp=a.first),e.iGM(a=e.CRH())&&(i.tp=a.first)}},decls:52,vars:34,consts:[[1,"row","mt-5"],[1,"col"],[3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-xl-9","px-2","d-flex","flex-column","justify-content-evenly"],[1,"row"],["for","user_id"],[1,"input-group"],["formControlName","user_id","id","user_id",1,"form-select",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","input-group-text","id","basic-addon1",4,"ngIf"],["class","text-danger",4,"ngIf"],["for","benefit_id"],["formControlName","benefit_id","id","benefit_id",1,"form-select",3,"ngClass","change"],["for","benefit_detail_id"],["formControlName","benefit_detail_id","id","benefit_detail_id",1,"form-select",3,"ngClass"],[1,"col-xl-3","px-2","d-flex","flex-column"],["formControlName","model",1,"m-2",3,"ngClass","markDisabled","navigate"],["dp",""],["formControlName","time",1,"m-2","d-flex","justify-content-around",3,"ngClass","meridian"],["tp",""],["type","hidden","formControlName","benefit_begin_time",3,"value"],["type","hidden","formControlName","benefit_end_time"],[1,"mb-3"],["type","submit",1,"btn","btn-success","float-end",3,"disabled"],[3,"value"],["id","basic-addon1",1,"input-group-text"],[1,"fa-solid","fa-spinner","fa-spin","fa-xs"],[1,"text-danger"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.qZA(),e._UZ(3,"hr"),e.TgZ(4,"div",1)(5,"form",2),e.NdJ("ngSubmit",function(){return i.save()}),e.TgZ(6,"div",3)(7,"div",4)(8,"div",5)(9,"label",6),e._uU(10,"Selecciona un colaborador"),e.qZA(),e.TgZ(11,"div",7)(12,"select",8)(13,"option",9),e._uU(14,"-- Seleccione Colaborador --"),e.qZA(),e.YNc(15,Tt,2,2,"option",10),e.qZA(),e.YNc(16,Zt,2,0,"span",11),e.qZA(),e.YNc(17,At,2,1,"small",12),e.qZA(),e.TgZ(18,"div",5)(19,"label",13),e._uU(20,"Selecciona un beneficio"),e.qZA(),e.TgZ(21,"div",7)(22,"select",14),e.NdJ("change",function(s){return i.fillBenefitDetail(s)}),e.TgZ(23,"option",9),e._uU(24,"-- Seleccione Beneficio --"),e.qZA(),e.YNc(25,Ut,2,2,"option",10),e.qZA(),e.YNc(26,St,2,0,"span",11),e.qZA(),e.YNc(27,Bt,2,1,"small",12),e.qZA(),e.TgZ(28,"div",5)(29,"label",15),e._uU(30,"Selecciona un Detalle"),e.qZA(),e.TgZ(31,"div",7)(32,"select",16)(33,"option",9),e._uU(34,"-- Seleccione Detalle --"),e.qZA(),e.YNc(35,Dt,2,2,"option",10),e.qZA(),e.YNc(36,kt,2,0,"span",11),e.qZA(),e.YNc(37,It,2,1,"small",12),e.qZA()(),e.TgZ(38,"div",17)(39,"div",5)(40,"ngb-datepicker",18,19),e.NdJ("navigate",function(s){return i.date=s.next}),e.qZA(),e.YNc(42,Mt,2,1,"small",12),e.qZA(),e.TgZ(43,"div",5),e._UZ(44,"ngb-timepicker",20,21),e.YNc(46,Nt,2,1,"small",12),e.qZA()()(),e._UZ(47,"input",22)(48,"input",23),e.TgZ(49,"div",24)(50,"button",25),e._uU(51),e.qZA()()()()()),2&t&&(e.xp6(2),e.AsE("",null!=i.currentUserBenefits&&i.currentUserBenefits.id?"Actualizar":"Nuevo"," beneficio para ",null==i.currentUserBenefits?null:i.currentUserBenefits.name,""),e.xp6(3),e.Q6J("formGroup",i.createForm),e.xp6(7),e.Q6J("ngClass",e.VKq(24,Q,i.campoEsValido("user_id"))),e.xp6(3),e.Q6J("ngForOf",i.users),e.xp6(1),e.Q6J("ngIf",i.userAndBenefitSpinner),e.xp6(1),e.Q6J("ngIf",i.campoEsValido("user_id")),e.xp6(5),e.Q6J("ngClass",e.VKq(26,Q,i.campoEsValido("benefit_id"))),e.xp6(3),e.Q6J("ngForOf",i.benefits),e.xp6(1),e.Q6J("ngIf",i.userAndBenefitSpinner),e.xp6(1),e.Q6J("ngIf",i.campoEsValido("benefit_id")),e.xp6(5),e.Q6J("ngClass",e.VKq(28,Q,i.campoEsValido("benefit_detail_id"))),e.xp6(3),e.Q6J("ngForOf",i.benefit_details),e.xp6(1),e.Q6J("ngIf",!i.benefitDetailSpinner),e.xp6(1),e.Q6J("ngIf",i.campoEsValido("benefit_detail_id")),e.xp6(3),e.Q6J("ngClass",e.VKq(30,Q,i.campoEsValido("model")))("markDisabled",i.isDayDisabled),e.xp6(2),e.Q6J("ngIf",i.campoEsValido("model")),e.xp6(2),e.Q6J("ngClass",e.VKq(32,Q,i.campoEsValido("time")))("meridian",i.meridian),e.xp6(2),e.Q6J("ngIf",i.campoEsValido("time")),e.xp6(1),e.s9C("value",i.benefit_begin_time),e.xp6(3),e.Q6J("disabled",i.disableSubmitBtn),e.xp6(1),e.hij(" ",null!=i.currentUserBenefits&&i.currentUserBenefits.id?"Actualizar":"Crear"," "))},dependencies:[o.mk,o.sg,o.O5,U.VL,U.Pm,v._Y,v.YN,v.Kr,v.Fj,v.EJ,v.JJ,v.JL,v.sg,v.u],encapsulation:2}),n})();const qt=[{path:"",component:Ct.t,children:[{path:"index",component:ft},{path:"edit/:id",component:he},{path:"show/:id",component:bt},{path:"create",component:he},{path:"**",redirectTo:"index"}]}];let Ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[x.Bz.forChild(qt),x.Bz]}),n})(),Ft=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[N,{provide:U.Cw,useClass:Et}],imports:[Ot,T._8.forRoot({provide:T._A,useFactory:Z.x}),o.ez,U.M,U.UL,w.vQ,v.UX,v.u5]}),n})()},9906:(ie,M,f)=>{f.d(M,{t:()=>L});var o=f(2223),v=f(5118),T=f(5226),Z=f.n(T),w=f(6518),U=f(4755);function x(_,B){1&_&&(o.TgZ(0,"li")(1,"a",22),o._uU(2,"Nuevo"),o.qZA()())}function q(_,B){if(1&_&&(o.TgZ(0,"li",9)(1,"a",10),o._UZ(2,"i",23),o._uU(3," Beneficios - Detalles "),o.qZA(),o.TgZ(4,"ul",12)(5,"li")(6,"a",24),o._uU(7,"Nuevo"),o.qZA()(),o.TgZ(8,"li")(9,"a",25),o._uU(10,"Listado"),o.qZA()()()()),2&_){const h=o.oxw();o.xp6(1),o.ekj("active",h.router.isActive("/benefit-detail",!1))}}function y(_,B){1&_&&(o.TgZ(0,"li")(1,"a",26),o._uU(2,"Nuevo"),o.qZA()())}function e(_,B){if(1&_&&(o.TgZ(0,"li",9)(1,"a",10),o._UZ(2,"i",27),o._uU(3," Cargos "),o.qZA(),o.TgZ(4,"ul",12)(5,"li")(6,"a",28),o._uU(7,"Nuevo"),o.qZA()(),o.TgZ(8,"li")(9,"a",29),o._uU(10,"Listado"),o.qZA()()()()),2&_){const h=o.oxw();o.xp6(1),o.ekj("active",h.router.isActive("/position",!1))}}function N(_,B){if(1&_&&(o.TgZ(0,"li",9)(1,"a",10),o._UZ(2,"i",30),o._uU(3," Usuarios "),o.qZA(),o.TgZ(4,"ul",12)(5,"li")(6,"a",31),o._uU(7,"Nuevo"),o.qZA()(),o.TgZ(8,"li")(9,"a",32),o._uU(10,"Listado"),o.qZA()()()()),2&_){const h=o.oxw();o.xp6(1),o.ekj("active",h.router.isActive("/user",!1))}}function C(_,B){if(1&_&&(o.TgZ(0,"li",9)(1,"a",10),o._UZ(2,"i",33),o._uU(3," Roles "),o.qZA(),o.TgZ(4,"ul",12)(5,"li")(6,"a",34),o._uU(7,"Nuevo"),o.qZA()(),o.TgZ(8,"li")(9,"a",35),o._uU(10,"Listado"),o.qZA()()()()),2&_){const h=o.oxw();o.xp6(1),o.ekj("active",h.router.isActive("/role",!1))}}let O=(()=>{class _{constructor(h,b){this.authService=h,this.router=b,this.isAdmin=!1}ngOnInit(){this.authService.validarAdmin().subscribe({next:h=>{this.isAdmin=h.admin,this.user=JSON.parse(localStorage.getItem("user"))},error:h=>{Z().fire({title:"Error",icon:"error",html:h.error.msg,timer:3e3,timerProgressBar:!0,didOpen:b=>{b.addEventListener("mouseenter",Z().stopTimer),b.addEventListener("mouseleave",Z().resumeTimer)}})}})}logout(){this.authService.logout().subscribe(h=>{this.router.navigateByUrl("/login")})}addClass(h){h.target.className=h.target.className.replace(" btn-outline-light",""),h.target.className+=" btn-outline-danger"}removeClass(h){h.target.className=h.target.className.replace(" btn-outline-danger",""),h.target.className+=" btn-outline-light"}}return _.\u0275fac=function(h){return new(h||_)(o.Y36(w.e),o.Y36(v.F0))},_.\u0275cmp=o.Xpm({type:_,selectors:[["app-navbar"]],decls:38,vars:12,consts:[["data-bs-theme","dark",1,"navbar","bg-dark","navbar-expand-lg","bg-body-tertiary","sticky-top","bg-gradient"],[1,"container-fluid"],[1,"navbar-brand"],["src","./assets/images/pajaro_transparencia.png","height","40px;"],[1,"navbar-brand","ms-3"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fa-solid","fa-box","me-1"],[1,"dropdown-menu"],[4,"ngIf"],["routerLink","/benefit/index",1,"dropdown-item"],["class","nav-item dropdown",4,"ngIf"],[1,"fa-solid","fa-person-dots-from-line","me-1"],["routerLink","/benefit-employee/index","routerLinkActive","active",1,"dropdown-item"],[1,"container-fluid","d-flex","justify-content-end"],[1,"navbar-text","mx-3"],[1,"btn","btn-outline-light","btn-sm",3,"click","mouseover","mouseleave"],[1,"fa-solid","fa-right-from-bracket"],["routerLink","/benefit/create",1,"dropdown-item"],[1,"fa-solid","fa-boxes-stacked","me-1"],["routerLink","/benefit-detail/create","routerLinkActive","active",1,"dropdown-item"],["routerLink","/benefit-detail/index","routerLinkActive","active",1,"dropdown-item"],["routerLink","/benefit-employee/create","routerLinkActive","active",1,"dropdown-item"],[1,"fa-solid","fa-briefcase","me-1"],["routerLink","/position/create","routerLinkActive","active",1,"dropdown-item"],["routerLink","/position/index","routerLinkActive","active",1,"dropdown-item"],[1,"fa-solid","fa-users","me-1"],["routerLink","/user/create","routerLinkActive","active",1,"dropdown-item"],["routerLink","/user/index","routerLinkActive","active",1,"dropdown-item"],[1,"fa-solid","fa-toolbox","me-1"],["routerLink","/role/create","routerLinkActive","active",1,"dropdown-item"],["routerLink","/role/index","routerLinkActive","active",1,"dropdown-item"]],template:function(h,b){1&h&&(o.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),o._UZ(3,"img",3),o.TgZ(4,"span",4),o._uU(5,"Salario Emocional"),o.qZA()(),o.TgZ(6,"button",5),o._UZ(7,"span",6),o.qZA(),o.TgZ(8,"div",7)(9,"ul",8)(10,"li",9)(11,"a",10),o._UZ(12,"i",11),o._uU(13," Beneficios "),o.qZA(),o.TgZ(14,"ul",12),o.YNc(15,x,3,0,"li",13),o.TgZ(16,"li")(17,"a",14),o._uU(18,"Listado"),o.qZA()()()(),o.YNc(19,q,11,2,"li",15),o.TgZ(20,"li",9)(21,"a",10),o._UZ(22,"i",16),o._uU(23),o.qZA(),o.TgZ(24,"ul",12),o.YNc(25,y,3,0,"li",13),o.TgZ(26,"li")(27,"a",17),o._uU(28,"Listado"),o.qZA()()()(),o.YNc(29,e,11,2,"li",15),o.YNc(30,N,11,2,"li",15),o.YNc(31,C,11,2,"li",15),o.qZA(),o.TgZ(32,"div",18)(33,"span",19),o._uU(34),o.qZA(),o.TgZ(35,"button",20),o.NdJ("click",function(){return b.logout()})("mouseover",function(p){return b.addClass(p)})("mouseleave",function(p){return b.removeClass(p)}),o._uU(36," Cerrar Sesi\xf3n "),o._UZ(37,"i",21),o.qZA()()()()()),2&h&&(o.xp6(11),o.ekj("active",b.router.isActive("/benefit",!1)),o.xp6(4),o.Q6J("ngIf",b.isAdmin),o.xp6(4),o.Q6J("ngIf",b.isAdmin),o.xp6(2),o.ekj("active",b.router.isActive("/benefit-employee",!1)),o.xp6(2),o.hij(" ",b.isAdmin?"Beneficios - Empleados":"Mis Beneficios"," "),o.xp6(2),o.Q6J("ngIf",b.isAdmin),o.xp6(4),o.Q6J("ngIf",b.isAdmin),o.xp6(1),o.Q6J("ngIf",b.isAdmin),o.xp6(1),o.Q6J("ngIf",b.isAdmin),o.xp6(3),o.hij(" ",null==b.user?null:b.user.name," "))},dependencies:[v.rH,v.Od,U.O5],encapsulation:2}),_})(),L=(()=>{class _{}return _.\u0275fac=function(h){return new(h||_)},_.\u0275cmp=o.Xpm({type:_,selectors:[["app-main-container"]],decls:3,vars:0,consts:[[1,"container"]],template:function(h,b){1&h&&(o._UZ(0,"app-navbar"),o.TgZ(1,"div",0),o._UZ(2,"router-outlet"),o.qZA())},dependencies:[v.lC,O],encapsulation:2}),_})()},206:(ie,M,f)=>{f.d(M,{c9:()=>U,fI:()=>Z,gW:()=>w});var o=f(5226),v=f.n(o),T=f(2223),Z=(()=>((Z=Z||{}).ACTUALIZADO="Actualizado",Z.PASSCHANGED="Contrase\xf1a Cambiada",Z.CREADO="Creado",Z.ELIMINADO="Eliminado",Z.ERROR="Error",Z))(),w=(()=>((w=w||{}).ERROR="error",w.INFO="info",w.QUESTION="question",w.SUCCESS="success",w.WARNING="warning",w))();let U=(()=>{class x{constructor(){}subscriptionAlert(y,e,N){v().fire({title:y,text:N,icon:e})}}return x.\u0275fac=function(y){return new(y||x)},x.\u0275prov=T.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()}}]);